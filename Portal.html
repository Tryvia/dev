<!DOCTYPE html>

<html lang="pt-BR">


<head>
    <link rel="icon" type="image/png" href="tryvia.png" />
    <link rel="stylesheet" href="portal.css">
    <style>
        .content-section {
            display: none;
            width: 100%;
        }
        .content-section.active {
            display: block !important;
        }

        
   /* Remove centraliza√ß√£o e largura m√°xima apenas para a aba metricascs */
    #metricascs { background: transparent !important; padding: 12px 18px !important; }
    #metricascs .form-container { max-width: none !important; margin: 0 !important; padding: 0 !important; background: transparent !important; box-shadow: none !important; }
    #metricascs-container { width: 100% !important; max-width: none !important; padding: 0 !important; }
    #metricascs-iframe { width: 100% !important; height: 72vh; min-height:480px; border: 0; display: block; }
    /* garante que o .content-section n√£o force fundo escuro somente aqui */
    #metricascs.content-section { background-color: transparent !important; }
<<<<<<< Updated upstream
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script type="text/javascript">
  
</script>
<div class="modal-overlay" id="customModal">
<div class="modal-content">
<h3 id="modalTitle"></h3>
<p id="modalMessage"></p>
<div class="modal-buttons" id="modalButtons">
</div>
</div>
</div>

<!-- Modal para Envio por E-mail -->
<div class="modal-overlay" id="emailModal">
<div class="modal-content" style="max-width: 500px;">
<h3 style="color: #4fc3f7; margin-bottom: 20px;">
<i class="fas fa-envelope" style="margin-right: 10px;"></i>
Enviar Relat√≥rio por E-mail
</h3>
<div class="form-group">
<label for="emailRecipients">E-mails dos Destinat√°rios</label>
<textarea id="emailRecipients" placeholder="Digite os e-mails separados por v√≠rgula ou quebra de linha&#10;exemplo@empresa.com, outro@empresa.com" rows="4" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; resize: vertical;"></textarea>
<small style="color: #666; font-size: 0.9em;">Separe m√∫ltiplos e-mails por v√≠rgula ou quebra de linha</small>
</div>
<div class="form-group">
<label for="emailSubject">Assunto</label>
<input type="text" id="emailSubject" placeholder="Assunto do e-mail" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
</div>
<div class="form-group">
<label for="emailMessage">Mensagem (opcional)</label>
<textarea id="emailMessage" placeholder="Digite uma mensagem personalizada..." rows="3" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; resize: vertical;"></textarea>
</div>
<div class="modal-buttons">
<button class="modal-button cancel" onclick="closeEmailModal()">Cancelar</button>
<button class="modal-button confirm" onclick="enviarRelatorioPorEmail()">
<i class="fas fa-paper-plane" style="margin-right: 8px;"></i>
Enviar
</button>
</div>
</div>
</div>

<!-- Modal para Envio por WhatsApp -->
<div class="modal-overlay" id="whatsappModal">
<div class="modal-content" style="max-width: 500px;">
<h3 style="color: #25d366; margin-bottom: 20px;">
<i class="fab fa-whatsapp" style="margin-right: 10px;"></i>
Enviar Relat√≥rio por WhatsApp
</h3>
<div class="form-group">
<label for="whatsappNumber">N√∫mero do WhatsApp</label>
<input type="tel" id="whatsappNumber" placeholder="(11) 99999-9999 ou +5511999999999" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
<small style="color: #666; font-size: 0.9em;">Digite o n√∫mero com DDD. Ex: (11) 99999-9999</small>
</div>
<div class="form-group">
<label for="whatsappMessage">Mensagem</label>
<textarea id="whatsappMessage" rows="4" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; resize: vertical;"></textarea>
</div>
<div style="background: #f0f8ff; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #25d366;">
<p style="margin: 0; font-size: 0.9em; color: #333;">
<i class="fas fa-info-circle" style="color: #25d366; margin-right: 8px;"></i>
<strong>Importante:</strong> O WhatsApp ser√° aberto com a mensagem pr√©-preenchida. Voc√™ precisar√° anexar o PDF manualmente ap√≥s o envio da mensagem.
</p>
</div>
<div class="modal-buttons">
<button class="modal-button cancel" onclick="closeWhatsappModal()">Cancelar</button>
<button class="modal-button confirm" style="background-color: #25d366;" onclick="enviarRelatorioPorWhatsapp()">
<i class="fab fa-whatsapp" style="margin-right: 8px;"></i>
Abrir WhatsApp
</button>
</div>
</div>
</div>

<!-- Modal para Editar Reuni√£o -->
<div class="modal-overlay" id="modalEditarReuniao">
<div class="modal-content" style="max-width: 600px;">
<h3 style="color: #4fc3f7; margin-bottom: 20px;">
<i class="fas fa-edit" style="margin-right: 10px;"></i>
Editar Reuni√£o
</h3>
<form id="formEditarReuniao">
<div class="form-row">
<div class="form-group">
<label for="editReuniaoCliente">Cliente</label>
<select id="editReuniaoCliente">
<option value="">Selecione um cliente...</option>
</select>
</div>
<div class="form-group">
<label for="editReuniaoData">Data</label>
<input type="date" id="editReuniaoData" class="input-padrao">
</div>
</div>
<div class="form-row">
<div class="form-group">
<label for="editReuniaoHorario">Hor√°rio</label>
<input type="time" id="editReuniaoHorario" class="input-padrao">
</div>
<div class="form-group">
<label for="editReuniaoTipo">Tipo</label>
<input type="text" id="editReuniaoTipo">
</div>
</div>
<div class="form-row">
<div class="form-group">
<label for="editReuniaoResponsavel">Respons√°vel pela Reuni√£o</label>
<select id="editReuniaoResponsavel">
<option value="">Selecione um respons√°vel...</option>
</select>
</div>
<div class="form-group">
<label for="editReuniaoParticipantes">Participantes</label>
<input type="text" id="editReuniaoParticipantes">
</div>
</div>
<div class="form-group">
<label for="editReuniaoFile">üìé Anexar Nova Ata (opcional)</label>
<input type="file" id="editReuniaoFile" class="input-padrao">
<small style="color: #666;">Deixe em branco para manter a ata atual</small>
</div>
<div class="modal-buttons">
<button type="button" class="modal-button cancel" onclick="fecharModalEditarReuniao()">Cancelar</button>
<button type="submit" class="modal-button confirm">
<i class="fas fa-save" style="margin-right: 8px;"></i>
Salvar Altera√ß√µes
</button>
</div>
</form>
</div>
</div>

<!-- Modal para Editar Homologa√ß√£o -->
<div class="modal-overlay" id="modalEditarHomologacao">
<div class="modal-content" style="max-width: 600px;">
<h3 style="color: #0066ccbf; margin-bottom: 20px;">
<i class="fas fa-edit" style="margin-right: 10px;"></i>
Editar Homologa√ß√£o
</h3>
<form id="formEditarHomologacao">
<div class="form-row">
<div class="form-group">
<label for="editHomologacaoVersao">Vers√£o</label>
<input type="text" id="editHomologacaoVersao" class="input-padrao">
</div>
<div class="form-group">
<label for="editHomologacaoEspecialista">Especialista</label>
<input type="text" id="editHomologacaoEspecialista" class="input-padrao">
</div>
</div>

<!-- Modal para Conversas do Ticket -->
<div class="modal-overlay" id="conversationsModal" style="display:none;">
    <div class="modal-content" style="max-width:800px; max-height:80vh; overflow:auto;">
        <h3 style="color: #4fc3f7; margin-bottom: 10px;">
            <i class="fas fa-comments" style="margin-right: 10px;"></i>
            Anota√ß√µes do Ticket <span id="conversationsTicketId" style="color:#333; font-weight:600;"></span>
        </h3>
        <div id="conversationsContent" style="margin-bottom: 16px;">
            <!-- Conversas ser√£o inseridas dinamicamente aqui -->
        </div>
        <div style="text-align:right;">
            <button class="modal-button cancel" onclick="closeConversationsModal()">Fechar</button>
        </div>
    </div>
</div>
<div class="form-row">
<div class="form-group">
<label for="editHomologacaoSistema">Sistema</label>
<input type="text" id="editHomologacaoSistema" class="input-padrao">
</div>
<div class="form-group">
<label for="editHomologacaoDataLiberacao">Data de Libera√ß√£o</label>
<input type="date" id="editHomologacaoDataLiberacao" class="input-padrao">
</div>
</div>
<div class="form-row">
<div class="form-group">
<label for="editHomologacaoDataHomologacao">Data de Homologa√ß√£o</label>
<input type="date" id="editHomologacaoDataHomologacao" class="input-padrao">
</div>
</div>
<div class="form-group">
<label for="editHomologacaoObservacao">Observa√ß√£o</label>
<textarea id="editHomologacaoObservacao" rows="3" class="input-padrao"></textarea>
</div>
<div class="form-group">
<label for="editHomologacaoFiles">üìé Adicionar Documentos (opcional)</label>
<input type="file" id="editHomologacaoFiles" class="input-padrao" multiple>
<small style="color: #666;">Selecione um ou mais arquivos para adicionar √† homologa√ß√£o</small>
</div>
<div class="modal-buttons">
<button type="button" class="modal-button cancel" onclick="fecharModalEditarHomologacao()">Cancelar</button>
<button type="submit" class="modal-button confirm">
<i class="fas fa-save" style="margin-right: 8px;"></i>
Salvar Altera√ß√µes
</button>
</div>
</form>
</div>
</div>
<div class="sidebar collapsed">
<button class="sidebar-toggle" onclick="toggleSidebar()">
    <i class="fas fa-chevron-left"></i>
</button>
<div class="logo-container">
	<img alt="Sua Logo" class="your-custom-logo" id="sidebarLogo" src="logo11.png"/>

</div>
<ul class="nav-list">
<li class="nav-item">
<button onclick="showTab('inicio')"data-permissao="inicio"><i class="fas fa-home"></i> <span>In√≠cio</span></button>
</li>
<li class="nav-item">
<button onclick="showTab('painel-setor')"data-permissao="painel-setor"><i class="fas fa-chart-pie"></i> <span>Painel do Setor</span></button>
</li>
<li class="nav-item">
<button onclick="showTab('dashboard')"data-permissao="dashboard"><i class="fas fa-chart-line"></i> <span>Dashboards</span></button>
</li>
<li class="nav-item">
<button onclick="showTab('clients')"data-permissao="clients"><i class="fas fa-users"></i> <span>Clientes</span></button>
</li>
<li class="nav-item">
<button onclick="showTab('painel-tickets')"data-permissao="painel-tickets"><i class="fas fa-ticket-alt"></i> <span>Painel de Tickets</span></button>
</li>
<li class="nav-item">
<button onclick="window.location.href='https://tryvia.github.io/TryviaBI/mapa_visitas.html'"data-permissao="https://tryvia.github.io/TryviaBI/mapa_visitas.html"><i class="fas fa-calendar-check"></i> <span>Visitas</span></button>
</li>
<li class="nav-item">
<button onclick="showTab('relatorioVisita')"data-permissao="relatorioVisita">
<i class="fas fa-file-signature"></i> <span>Relat√≥rio de Visita</span></button>
</li>
<li class="nav-item"><button onclick="showTab('homologacao')"data-permissao="homologacao"><i class="fas fa-clipboard-check"></i> <span>Homologa√ß√£o</span></button></li>
<li class="nav-item">
  <button onclick="showTab('release')"data-permissao="release"><i class="fas fa-rocket"></i> <span>Release</span></button>
</li>
<li class="nav-item">
  <button onclick="showTab('reunioes')"data-permissao="reunioes"><i class="fas fa-users"></i> <span>Reuni√µes</span></button>
</li>
<li class="nav-item">
  <button onclick="showTab('documents')"data-permissao="documents"><i class="fas fa-file-alt"></i> <span>Documentos</span></button>
</li>
<li class="nav-item">
  <button onclick="showTab('treinamento')"data-permissao="treinamento"><i class="fas fa-graduation-cap"></i> <span>Treinamento</span></button>
</li>
<li class="nav-item">
<button onclick="showTab('evaluations')"data-permissao="evaluations"><i class="fas fa-star"></i> <span>Avalia√ß√µes</span></button>
</li>
<li class="nav-item">
<button onclick="showTab('cs')"data-permissao="cs"><i class="fas fa-headset"></i> <span>CS</span></button>
</li>
<li class="nav-item">
<button onclick="showTab('metricascs')" data-permissao="metricascs"><i class="fas fa-chart-bar"></i> <span>M√©tricas CS</span></button>
</li>
<li class="nav-item">
<button onclick="window.location.href='https://tryvia.github.io/TryviaBI/calendario.html'"data-permissao="https://tryvia.github.io/TryviaBI/calendario.html"><i class="fas fa-calendar"></i> <span>Calend√°rio</span></button>
</li>
<li class="nav-item">
<button onclick="window.location.href='https://tryvia.github.io/TryviaBI/linha%20do%20tempo.html'"data-permissao="https://tryvia.github.io/TryviaBI/linha%20do%20tempo.html"><i class="fas fa-clock"></i> <span>MVP</span></button>
</li>
<li class="nav-item">
<button onclick="window.location.href='https://tryvia.github.io/TryviaBI/implanta%C3%A7%C3%A3o.html'"data-permissao="https://tryvia.github.io/TryviaBI/implanta%C3%A7%C3%A3o.html"><i class="fas fa-cogs"></i> <span>Implanta√ß√µes</span></button>
</li>
<li class="nav-item">
<button onclick="showTab('gestao')"data-permissao="gestao"><i class="fas fa-users-cog"></i> <span>Gest√£o</span></button>
</li>
<li class="nav-item">
<button onclick="showTab('gerenciar-logins')"data-permissao="gerenciar-logins"><i class="fas fa-user-shield"></i> <span>Gerenciar Logins</span></button>
</li>
<li class="nav-item">
<a href="#"><i class="fas fa-cog"></i> <span>Configura√ß√µes</span></a>
</li>
<li class="nav-item">
<a href="#" onclick="logoutTryvia()"><i class="fas fa-sign-out-alt"></i> <span>Sair</span></a><li class="nav-item">
</li>
</li></li><li class="nav-item">
</li></ul>
</div>
<div class="main-content expanded">
<header class="header">

<h1>Portal - Tryvia</h1>
<div class="profile-info">
<img alt="Profile Picture" src="tryvia.png"/>
<span><span id="nomeUsuario">Usu√°rio</span></span>
</div>
</header>

<!-- Aba In√≠cio -->
<div class="content-section active" id="inicio">
    <!-- Cabe√ßalho de Boas-vindas -->
    <div style="padding: 30px 0; margin-bottom: 30px;">
        <h2 style="margin: 0; font-size: 2.5em; color: #1a1a1a; margin-bottom: 10px;">
            Bem-vindo ao Dashboard
        </h2>
        <p style="margin: 0; font-size: 1em; color: #666;" id="welcomeMessage">
            Quinta-feira, 23 de outubro de 2025 ‚Ä¢ √öltima atualiza√ß√£o: <span id="lastUpdate">15:03:41</span>
        </p>
    </div>

    <!-- A√ß√µes R√°pidas -->
    <div style="margin-bottom: 30px;">
        <h3 style="margin: 0 0 20px 0; color: #1a1a1a; font-size: 1.2em;">A√ß√µes R√°pidas</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 12px;">
            <button onclick="showTab('clients')" style="border: 1px solid #e0e0e0; background: white; color: #333; padding: 20px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; text-align: center;">
                <i class="fas fa-user-plus" style="display: block; font-size: 1.5em; margin-bottom: 8px; color: #666;"></i>
                <span style="font-size: 0.9em; font-weight: 500;">Clientes</span>
            </button>
            <button onclick="showTab('homologacao')" style="border: 1px solid #e0e0e0; background: white; color: #333; padding: 20px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; text-align: center;">
                <i class="fas fa-clipboard-check" style="display: block; font-size: 1.5em; margin-bottom: 8px; color: #666;"></i>
                <span style="font-size: 0.9em; font-weight: 500;">Homologa√ß√£o</span>
            </button>
            <button onclick="showTab('release')" style="border: 1px solid #e0e0e0; background: white; color: #333; padding: 20px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; text-align: center;">
                <i class="fas fa-rocket" style="display: block; font-size: 1.5em; margin-bottom: 8px; color: #666;"></i>
                <span style="font-size: 0.9em; font-weight: 500;">Release</span>
            </button>
            <button onclick="showTab('reunioes')" style="border: 1px solid #e0e0e0; background: white; color: #333; padding: 20px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; text-align: center;">
                <i class="fas fa-calendar" style="display: block; font-size: 1.5em; margin-bottom: 8px; color: #666;"></i>
                <span style="font-size: 0.9em; font-weight: 500;">Reuni√£o</span>
            </button>
            <button onclick="showTab('documents')" style="border: 1px solid #e0e0e0; background: white; color: #333; padding: 20px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; text-align: center;">
                <i class="fas fa-comments" style="display: block; font-size: 1.5em; margin-bottom: 8px; color: #666;"></i>
                <span style="font-size: 0.9em; font-weight: 500;">Documentos</span>
            </button>
            <button onclick="showTab('relatorioVisita')" style="border: 1px solid #e0e0e0; background: white; color: #333; padding: 20px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; text-align: center;">
                <i class="fas fa-file-alt" style="display: block; font-size: 1.5em; margin-bottom: 8px; color: #666;"></i>
                <span style="font-size: 0.9em; font-weight: 500;">Relat√≥rio</span>
            </button>
        </div>
    </div>

    <!-- Tabs de Navega√ß√£o -->
    <div style="margin-bottom: 30px;">
        <div style="display: flex; gap: 30px; border-bottom: 1px solid #e0e0e0; margin-bottom: 20px;">
            <button onclick="switchDashboardTab('overview')" id="tab-overview" style="background: none; border: none; padding: 10px 0; font-size: 1em; color: #0066cc; border-bottom: 2px solid #0066cc; cursor: pointer; font-weight: 500;">
                <i class="fas fa-chart-bar" style="margin-right: 8px;"></i>Vis√£o Geral
            </button>
            <button onclick="switchDashboardTab('activities')" id="tab-activities" style="background: none; border: none; padding: 10px 0; font-size: 1em; color: #999; border-bottom: 2px solid transparent; cursor: pointer; font-weight: 500;">
                <i class="fas fa-history" style="margin-right: 8px;"></i>Atividades
            </button>
            <button onclick="switchDashboardTab('performance')" id="tab-performance" style="background: none; border: none; padding: 10px 0; font-size: 1em; color: #999; border-bottom: 2px solid transparent; cursor: pointer; font-weight: 500;">
                <i class="fas fa-chart-line" style="margin-right: 8px;"></i>Performance
            </button>
        </div>
    </div>

    <!-- Conte√∫do das Abas -->
    <div id="tab-content-overview">
        <!-- M√©tricas Principais -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
            <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px; transition: all 0.3s ease;" onclick="showTab('clients')">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <p style="margin: 0; color: #999; font-size: 0.9em; margin-bottom: 8px;">Clientes Ativos</p>
                        <p style="margin: 0; font-size: 2.5em; font-weight: bold; color: #1a1a1a;" id="activeClientsCount">...</p>
                        <p style="margin: 5px 0 0 0; font-size: 0.85em; color: #666;"></p>
                    </div>
                    <div style="font-size: 2.5em; color: #ddd;"><i class="fas fa-users"></i></div>
                </div>
            </div>

            <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px; transition: all 0.3s ease;" onclick="showTab('homologacao')">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <p style="margin: 0; color: #999; font-size: 0.9em; margin-bottom: 8px;">Homologa√ß√µes</p>
                        <p style="margin: 0; font-size: 2.5em; font-weight: bold; color: #1a1a1a;" id="totalHomologacoes">...</p>
                        <p style="margin: 5px 0 0 0; font-size: 0.85em; color: #666;"></p>
                    </div>
                    <div style="font-size: 2.5em; color: #ddd;"><i class="fas fa-clipboard-check"></i></div>
                </div>
            </div>

            <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px; transition: all 0.3s ease;" onclick="showTab('release')">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <p style="margin: 0; color: #999; font-size: 0.9em; margin-bottom: 8px;">Releases</p>
                        <p style="margin: 0; font-size: 2.5em; font-weight: bold; color: #1a1a1a;" id="totalReleases">...</p>
                        <p style="margin: 5px 0 0 0; font-size: 0.85em; color: #666;"></p>
                    </div>
                    <div style="font-size: 2.5em; color: #ddd;"><i class="fas fa-rocket"></i></div>
                </div>
            </div>

            <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px; transition: all 0.3s ease;">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <p style="margin: 0; color: #999; font-size: 0.9em; margin-bottom: 8px;">Avalia√ß√£o M√©dia</p>
                        <p style="margin: 0; font-size: 2.5em; font-weight: bold; color: #1a1a1a;" id="averageRatingHome">...</p>
                        <p style="margin: 5px 0 0 0; font-size: 0.85em; color: #666;"></p>
                    </div>
                    <div style="font-size: 2.5em; color: #ddd;"><i class="fas fa-star"></i></div>
                </div>
            </div>
        </div>
    </div>

    <div id="tab-content-activities" style="display: none;">
        <!-- Atividades Recentes -->
        <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0; color: #1a1a1a; font-size: 1.2em;">Atividades Recentes</h3>
                <button onclick="refreshActivities()" style="background: white; border: 1px solid #e0e0e0; color: #666; padding: 8px 12px; border-radius: 6px; cursor: pointer;">
                    <i class="fas fa-sync-alt"></i>
                </button>
            </div>
            <div id="activitiesList" style="max-height: 400px; overflow-y: auto;">
                <div style="text-align: center; padding: 40px; color: #999;">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2em; margin-bottom: 15px;"></i>
                    <p>Carregando atividades...</p>
                </div>
            </div>
        </div>
    </div>

    <div id="tab-content-performance" style="display: none;">
        <!-- Performance -->
        <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px;">
            <h3 style="margin: 0 0 20px 0; color: #1a1a1a; font-size: 1.2em;">Desempenho Mensal</h3>
            <div style="space-y: 20px;">
                <canvas id="homologacoesChart" width="400" height="200"></canvas>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o Inferior -->
    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-top: 30px;">
        <!-- √öltimas Atualiza√ß√µes -->
        <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0; color: #1a1a1a; font-size: 1.2em;">√öltimas Atualiza√ß√µes</h3>
                <button style="background: none; border: none; color: #0066cc; cursor: pointer; font-weight: 500;"></button>
            </div>
            <div style="space-y: 12px;">
                <div style="border: 1px solid #f0f0f0; border-radius: 6px; padding: 12px; margin-bottom: 12px;">
                    <div style="display: flex; gap: 8px; align-items: flex-start;">
                        <div style="width: 6px; height: 6px; background: #999; border-radius: 50%; margin-top: 6px; flex-shrink: 0;"></div>
                        <div style="flex: 1;">
                            <p style="margin: 0; font-weight: 500; color: #1a1a1a; font-size: 0.95em;">Atualiza√ß√£o no visual</p>
                            <p style="margin: 5px 0 0 0; color: #999; font-size: 0.85em;">temos uma nova visualza√ß√£o no portal</p>
                        </div>
                        <span style="color: #999; font-size: 0.85em; white-space: nowrap;">12/112025</span>
                    </div>
                </div>
                <div style="border: 1px solid #f0f0f0; border-radius: 6px; padding: 12px; margin-bottom: 12px;">
                    <div style="display: flex; gap: 8px; align-items: flex-start;">
                        <div style="width: 6px; height: 6px; background: #999; border-radius: 50%; margin-top: 6px; flex-shrink: 0;"></div>
                        <div style="flex: 1;">
                            <p style="margin: 0; font-weight: 500; color: #1a1a1a; font-size: 0.95em;">Melhorias aplicadas</p>
                            <p style="margin: 5px 0 0 0; color: #999; font-size: 0.85em;">Novas funcionalidades presente</p>
                        </div>
                        <span style="color: #999; font-size: 0.85em; white-space: nowrap;">12/11/2025</span>
                    </div>
                </div>
                <div style="border: 1px solid #f0f0f0; border-radius: 6px; padding: 12px;">
                    <div style="display: flex; gap: 8px; align-items: flex-start;">
                        <div style="width: 6px; height: 6px; background: #999; border-radius: 50%; margin-top: 6px; flex-shrink: 0;"></div>
                        <div style="flex: 1;">
                            <p style="margin: 0; font-weight: 500; color: #1a1a1a; font-size: 0.95em;">Nova tela de CS</p>
                            <p style="margin: 5px 0 0 0; color: #999; font-size: 0.85em;">Melhoria na tela do CS</p>
                        </div>
                        <span style="color: #999; font-size: 0.85em; white-space: nowrap;">12/11/2025</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifica√ß√µes -->
        <div style="background: white; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px;">
            <h3 style="margin: 0 0 20px 0; color: #1a1a1a; font-size: 1.2em;">Notifica√ß√µes</h3>
            <div style="space-y: 12px;">
                <div style="background: #ffe8e8; border: 1px solid #ffcccb; border-radius: 6px; padding: 12px; margin-bottom: 12px;">
                    <p style="margin: 0; font-weight: 500; color: #c62828; font-size: 0.9em;">Tickets pendentes</p>
                    <p style="margin: 5px 0 0 0; color: #c62828; font-size: 0.85em;">--</p>
                </div>
                <div style="background: #fffde8; border: 1px solid #fff9c4; border-radius: 6px; padding: 12px; margin-bottom: 12px;">
                    <p style="margin: 0; font-weight: 500; color: #f57f17; font-size: 0.9em;">Clientes inativos</p>
                    <p style="margin: 5px 0 0 0; color: #f57f17; font-size: 0.85em;">1 cliente inativo</p>
                </div>
            </div>
        </div>
    </div>
=======
>>>>>>> Stashed changes

    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <script>
        const setorUsuario = sessionStorage.getItem('setor');
        const RELEASE_SUPABASE_URL = 'https://mzjdmhgkrroajmsfwryu.supabase.co';
        const RELEASE_SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im16amRtaGdrcnJvYWptc2Z3cnl1Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0ODIzMzAzNSwiZXhwIjoyMDYzODA5MDM1fQ.CVXkKh9yul_Mv2YMhPsDo4CmkQevxpkeI1CtitORpJ0';
        const releaseClient = supabase.createClient(RELEASE_SUPABASE_URL, RELEASE_SUPABASE_KEY);
        const SUPABASE_URL = 'https://mzjdmhgkrroajmsfwryu.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im16amRtaGdrcnJvYWptc2Z3cnl1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyMzMwMzUsImV4cCI6MjA2MzgwOTAzNX0.tQCwUfFCV7sD-IexQviU0XEPcbn9j5uK9NSUbH-OeBc';

        // Fun√ß√£o para mostrar/ocultar abas
        function showTab(tabId) {
            console.log('Mostrando aba:', tabId);
            // Oculta todas as se√ß√µes de conte√∫do
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
                section.classList.remove('active');
            });

            // Mostra a se√ß√£o selecionada
            const selectedTab = document.getElementById(tabId);
            if (selectedTab) {
                selectedTab.style.display = 'block';
                selectedTab.classList.add('active');
                console.log('Elemento encontrado e exibido:', tabId);
            } else {
                console.error('Elemento n√£o encontrado:', tabId);
            }

            if (tabId === 'documents') {
                if (typeof loadDocuments === 'function') loadDocuments();
            }

            if (tabId === 'dashboard') {
                if (typeof fetchAndRenderDashboards === 'function') fetchAndRenderDashboards();
            }

            if (tabId === 'homologacao') {
                if (typeof fetchAndRenderHomologacoes === 'function') fetchAndRenderHomologacoes();
            }

            // Remove a classe active de todos os bot√µes
            document.querySelectorAll('.nav-item button').forEach(button => {
                button.parentElement.classList.remove('active');
            });

            // Adiciona a classe active ao bot√£o selecionado
            const selectedButton = document.querySelector(`button[onclick*="showTab('${tabId}')"]`);
            if (selectedButton) {
                selectedButton.parentElement.classList.add('active');
            }
        }
    </script>
    <meta charset="utf-8" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Portal</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">

    </script>
    <!-- Modal de Detalhes da Auditoria -->
    <div id="auditDetailModal" class="audit-modal">
        <div class="audit-modal-content">
            <div class="audit-modal-header">
                <h3><i class="fas fa-info-circle"></i> Detalhes da Altera√ß√£o</h3>
                <span class="close" onclick="fecharModalAudit()" style="cursor:pointer; font-size: 24px;">&times;</span>
            </div>
            <div id="auditDetailContent">
                <!-- Conte√∫do preenchido via JS -->
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="customModal">
        <div class="modal-content">
            <h3 id="modalTitle"></h3>
            <p id="modalMessage"></p>
            <div class="modal-buttons" id="modalButtons">
            </div>
        </div>
    </div>

    <!-- Modal para Envio por E-mail -->
    <div class="modal-overlay" id="emailModal">
        <div class="modal-content" style="max-width: 500px;">
            <h3 style="color: #4fc3f7; margin-bottom: 20px;">
                <i class="fas fa-envelope" style="margin-right: 10px;"></i>
                Enviar Relat√≥rio por E-mail
            </h3>
            <div class="form-group">
                <label for="emailRecipients">E-mails dos Destinat√°rios</label>
                <textarea id="emailRecipients"
                    placeholder="Digite os e-mails separados por v√≠rgula ou quebra de linha&#10;exemplo@empresa.com, outro@empresa.com"
                    rows="4"
                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; resize: vertical;"></textarea>
                <small style="color: #666; font-size: 0.9em;">Separe m√∫ltiplos e-mails por v√≠rgula ou quebra de
                    linha</small>
            </div>
            <div class="form-group">
                <label for="emailSubject">Assunto</label>
                <input type="text" id="emailSubject" placeholder="Assunto do e-mail"
                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
            <div class="form-group">
                <label for="emailMessage">Mensagem (opcional)</label>
                <textarea id="emailMessage" placeholder="Digite uma mensagem personalizada..." rows="3"
                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; resize: vertical;"></textarea>
            </div>
            <div class="modal-buttons">
                <button class="modal-button cancel" onclick="closeEmailModal()">Cancelar</button>
                <button class="modal-button confirm" onclick="enviarRelatorioPorEmail()">
                    <i class="fas fa-paper-plane" style="margin-right: 8px;"></i>
                    Enviar
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para Envio por WhatsApp -->
    <div class="modal-overlay" id="whatsappModal">
        <div class="modal-content" style="max-width: 500px;">
            <h3 style="color: #25d366; margin-bottom: 20px;">
                <i class="fab fa-whatsapp" style="margin-right: 10px;"></i>
                Enviar Relat√≥rio por WhatsApp
            </h3>
            <div class="form-group">
                <label for="whatsappNumber">N√∫mero do WhatsApp</label>
                <input type="tel" id="whatsappNumber" placeholder="(11) 99999-9999 ou +5511999999999"
                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                <small style="color: #666; font-size: 0.9em;">Digite o n√∫mero com DDD. Ex: (11) 99999-9999</small>
            </div>
            <div class="form-group">
                <label for="whatsappMessage">Mensagem</label>
                <textarea id="whatsappMessage" rows="4"
                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; resize: vertical;"></textarea>
            </div>
            <div
                style="background: #f0f8ff; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #25d366;">
                <p style="margin: 0; font-size: 0.9em; color: #333;">
                    <i class="fas fa-info-circle" style="color: #25d366; margin-right: 8px;"></i>
                    <strong>Importante:</strong> O WhatsApp ser√° aberto com a mensagem pr√©-preenchida. Voc√™ precisar√°
                    anexar o PDF manualmente ap√≥s o envio da mensagem.
                </p>
            </div>
            <div class="modal-buttons">
                <button class="modal-button cancel" onclick="closeWhatsappModal()">Cancelar</button>
                <button class="modal-button confirm" style="background-color: #25d366;"
                    onclick="enviarRelatorioPorWhatsapp()">
                    <i class="fab fa-whatsapp" style="margin-right: 8px;"></i>
                    Abrir WhatsApp
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para Editar Reuni√£o -->
    <div class="modal-overlay" id="modalEditarReuniao">
        <div class="modal-content" style="max-width: 600px;">
            <h3 style="color: #4fc3f7; margin-bottom: 20px;">
                <i class="fas fa-edit" style="margin-right: 10px;"></i>
                Editar Reuni√£o
            </h3>
            <form id="formEditarReuniao">
                <div class="form-row">
                    <div class="form-group">
                        <label for="editReuniaoCliente">Cliente</label>
                        <select id="editReuniaoCliente">
                            <option value="">Selecione um cliente...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editReuniaoData">Data</label>
                        <input type="date" id="editReuniaoData" class="input-padrao">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="editReuniaoHorario">Hor√°rio</label>
                        <input type="time" id="editReuniaoHorario" class="input-padrao">
                    </div>
                    <div class="form-group">
                        <label for="editReuniaoTipo">Tipo</label>
                        <input type="text" id="editReuniaoTipo">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="editReuniaoResponsavel">Respons√°vel pela Reuni√£o</label>
                        <select id="editReuniaoResponsavel">
                            <option value="">Selecione um respons√°vel...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editReuniaoParticipantes">Participantes</label>
                        <input type="text" id="editReuniaoParticipantes">
                    </div>
                </div>
                <div class="form-group">
                    <label for="editReuniaoFile">üìé Anexar Nova Ata (opcional)</label>
                    <input type="file" id="editReuniaoFile" class="input-padrao">
                    <small style="color: #666;">Deixe em branco para manter a ata atual</small>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="modal-button cancel"
                        onclick="fecharModalEditarReuniao()">Cancelar</button>
                    <button type="submit" class="modal-button confirm">
                        <i class="fas fa-save" style="margin-right: 8px;"></i>
                        Salvar Altera√ß√µes
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para Editar Homologa√ß√£o -->
    <div class="modal-overlay" id="modalEditarHomologacao">
        <div class="modal-content" style="max-width: 600px;">
            <h3 style="color: #4fc3f7; margin-bottom: 20px;">
                <i class="fas fa-edit" style="margin-right: 10px;"></i>
                Editar Homologa√ß√£o
            </h3>
            <form id="formEditarHomologacao">
                <div class="form-row">
                    <div class="form-group">
                        <label for="editHomologacaoVersao">Vers√£o</label>
                        <input type="text" id="editHomologacaoVersao" class="input-padrao">
                    </div>
                    <div class="form-group">
                        <label for="editHomologacaoEspecialista">Especialista</label>
                        <input type="text" id="editHomologacaoEspecialista" class="input-padrao">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="editHomologacaoSistema">Sistema</label>
                        <input type="text" id="editHomologacaoSistema" class="input-padrao">
                    </div>
                    <div class="form-group">
                        <label for="editHomologacaoDataLiberacao">Data de Libera√ß√£o</label>
                        <input type="date" id="editHomologacaoDataLiberacao" class="input-padrao">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="editHomologacaoDataHomologacao">Data de Homologa√ß√£o</label>
                        <input type="date" id="editHomologacaoDataHomologacao" class="input-padrao">
                    </div>
                </div>
                <div class="form-group">
                    <label for="editHomologacaoObservacao">Observa√ß√£o</label>
                    <textarea id="editHomologacaoObservacao" rows="3" class="input-padrao"></textarea>
                </div>
                <div class="form-group">
                    <label for="editHomologacaoFiles">üìé Adicionar Documentos (opcional)</label>
                    <input type="file" id="editHomologacaoFiles" class="input-padrao" multiple>
                    <small style="color: #666;">Selecione um ou mais arquivos para adicionar √† homologa√ß√£o</small>
                </div>
                <div class="modal-buttons">
                    <button type="button" class="modal-button cancel"
                        onclick="fecharModalEditarHomologacao()">Cancelar</button>
                    <button type="submit" class="modal-button confirm">
                        <i class="fas fa-save" style="margin-right: 8px;"></i>
                        Salvar Altera√ß√µes
                    </button>
                </div>
            </form>
        </div>
    </div>
    <div class="sidebar">
        <div class="logo-container">
            <img alt="Sua Logo" class="your-custom-logo" src="logo111.png" />
        </div>
        <ul class="nav-list">
            <li class="nav-item">
                <button onclick="showTab('inicio')" data-permissao="inicio"><i class="fas fa-home"></i> In√≠cio</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('painel-setor')" data-permissao="painel-setor"><i class="fas fa-chart-pie"></i>
                    Painel do Setor</button>
            </li>
            <li class="nav-item">
                <button onclick="toggleBIAnalyticsSubmenu()" data-permissao="bi-analytics" style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                    <span><i class="fas fa-chart-bar"></i> Atendimento</span>
                    <i class="fas fa-chevron-down" id="bi-analytics-toggle" style="transition: transform 0.3s;"></i>
                </button>
                <ul class="submenu" id="bi-analytics-submenu" style="display: none; list-style: none; padding-left: 50px; margin: 5px 0;">
                    <li><button onclick="showBITab('tickets')" style="background: none; border: none; color: #59595c; padding: 8px 0; cursor: pointer; text-align: left; width: 100%;"><i class="fas fa-ticket-alt"></i> Tickets</button></li>
                    <li><button onclick="showBITab('bi-analytics')" style="background: none; border: none; color: #59595c; padding: 8px 0; cursor: pointer; text-align: left; width: 100%;"><i class="fas fa-chart-line"></i> BI Analytics</button></li>
                    <li><button onclick="showBITab('presentation')" style="background: none; border: none; color: #59595c; padding: 8px 0; cursor: pointer; text-align: left; width: 100%;"><i class="fas fa-film"></i> Apresenta√ß√£o</button></li>
                    <li><button onclick="showBITab('insights')" style="background: none; border: none; color: #59595c; padding: 8px 0; cursor: pointer; text-align: left; width: 100%;"><i class="fas fa-lightbulb"></i> Insights</button></li>
                    <li><button onclick="showBITab('reports')" style="background: none; border: none; color: #59595c; padding: 8px 0; cursor: pointer; text-align: left; width: 100%;"><i class="fas fa-file-pdf"></i> Relat√≥rios</button></li>
                    <li><button onclick="showBITab('glossary')" style="background: none; border: none; color: #59595c; padding: 8px 0; cursor: pointer; text-align: left; width: 100%;"><i class="fas fa-book"></i> Gloss√°rio</button></li>
                    <li><button onclick="showBITab('annotations')" style="background: none; border: none; color: #59595c; padding: 8px 0; cursor: pointer; text-align: left; width: 100%;"><i class="fas fa-sticky-note"></i> Anota√ß√µes</button></li>
                </ul>
            </li>
            <li class="nav-item">
                <button onclick="showTab('telemetria')" data-permissao="telemetria"><i class="fas fa-chart-line"></i>
                    Dashboards</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('clients')" data-permissao="clients"><i class="fas fa-users"></i>
                    Clientes</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('painel-tickets')" data-permissao="painel-tickets"><i
                        class="fas fa-ticket-alt"></i> Painel de Tickets</button>
            </li>
            <li class="nav-item">
                <button onclick="window.location.href='https://tryvia.github.io/TryviaBI/mapa_visitas.html'"
                    data-permissao="https://tryvia.github.io/TryviaBI/mapa_visitas.html"><i
                        class="fas fa-calendar-check"></i> Visitas</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('relatorioVisita')" data-permissao="relatorioVisita">
                    <i class="fas fa-file-signature"></i> Relat√≥rio de Visita
                </button>
            <li class="nav-item"><button onclick="showTab('raio-x')" data-permissao="raio-x"><i
                        class="fas fa-bolt"></i> Raio X</button></li>
            <li class="nav-item"><button onclick="showTab('homologacao')" data-permissao="homologacao"><i
                        class="fas fa-clipboard-check"></i> Homologa√ß√£o</button></li>
            <li class="nav-item">
                <button onclick="showTab('release')" data-permissao="release"><i class="fas fa-rocket"></i>
                    Release</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('reunioes')" data-permissao="reunioes"><i class="fas fa-users"></i>
                    Reuni√µes</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('documents')" data-permissao="documents"><i class="fas fa-file-alt"></i>
                    Documentos</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('treinamento')" data-permissao="treinamento"><i
                        class="fas fa-graduation-cap"></i> Treinamento</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('evaluations')" data-permissao="evaluations"><i class="fas fa-star"></i>
                    Avalia√ß√µes</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('cs')" data-permissao="cs"><i class="fas fa-headset"></i> CS</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('metricascs')" data-permissao="metricascs"><i class="fas fa-chart-line"></i> M√©tricas CS</button>
            </li>
            <li class="nav-item">
                <button onclick="window.location.href='https://tryvia.github.io/TryviaBI/calendario.html'"
                    data-permissao="https://tryvia.github.io/TryviaBI/calendario.html"><i class="fas fa-calendar"></i>
                    Calend√°rio</button>
            </li>
            <li class="nav-item">
                <button onclick="window.location.href='https://tryvia.github.io/TryviaBI/linha%20do%20tempo.html'"
                    data-permissao="https://tryvia.github.io/TryviaBI/linha%20do%20tempo.html"><i
                        class="fas fa-clock"></i> MVP</button>
            </li>
            <li class="nav-item">
                <button onclick="window.location.href='implanta%C3%A7%C3%A3o.html'"
                    data-permissao="implanta%C3%A7%C3%A3o.html"><i class="fas fa-cogs"></i> Implanta√ß√µes</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('gestao')" data-permissao="gestao"><i class="fas fa-users-cog"></i>
                    Gest√£o</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('gerenciar-logins')" data-permissao="gerenciar-logins"><i
                        class="fas fa-user-shield"></i> Gerenciar Logins</button>
            </li>
            <li class="nav-item">
                <button onclick="showTab('audit-log')" data-permissao="audit-log"><i
                        class="fas fa-history"></i> Log de Auditoria</button>
            </li>
            <li class="nav-item">
                <a href="#"><i class="fas fa-cog"></i> Configura√ß√µes</a>
            </li>
            <li class="nav-item">
                <a href="#" onclick="logoutTryvia()"><i class="fas fa-sign-out-alt"></i> Sair</a>
            <li class="nav-item">
            </li>
            </li>
            </li>
            <li class="nav-item">
            </li>
        </ul>
    </div>
    <div class="main-content">
        <header class="header">

            <h1>Portal - Tryvia</h1>
            <div class="profile-info">
                <img alt="Profile Picture" src="tryvia.png" />
                <span><span id="nomeUsuario">Usu√°rio</span></span>
            </div>
        </header>

        <!-- Aba In√≠cio -->
        <div class="content-section active" id="inicio">
            <!-- Cabe√ßalho de Boas-vindas (foi retirado no dia 30.01 apos vemos que fica mais interessante assim no DS)-->

            <!-- M√©tricas Principais -->
            <div class="metrics-grid"
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; margin-bottom: 40px;">
                <div class="metric-card"
                    style="background: #f8f9fa; border-left: 6px solid #4fc3f7; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); outline: none; cursor: pointer;"
                    onclick="showTab('clients')">
                    <div style="display: flex; align-items: flex-start; justify-content: space-between; gap: 15px;">
                        <div style="flex: 1;">
                            <h3 style="margin: 0; color: #666; font-size: 0.95em; margin-bottom: 12px; font-weight: 500;">Clientes Ativos</h3>
                            <p style="margin: 0; font-size: 2.2em; font-weight: bold; color: #333;" id="activeClientsCount">-</p>
                        </div>
                        <div style="font-size: 1.7em; color: #000000; opacity: 0.8; flex-shrink: 0;"><i class="fas fa-users"></i></div>
                    </div>
                </div>

                <div class="metric-card"
                    style="background: #f8f9fa; border-left: 6px solid #ef5350; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); cursor: pointer; outline: none;"
                    onclick="showTab('clients')">
                    <div style="display: flex; align-items: flex-start; justify-content: space-between; gap: 15px;">
                        <div style="flex: 1;">
                            <h3 style="margin: 0; color: #666; font-size: 0.95em; margin-bottom: 12px; font-weight: 500;">Clientes Inativos</h3>
                            <p style="margin: 0; font-size: 2.2em; font-weight: bold; color: #333;" id="inactiveClientsCount">-</p>
                        </div>
                        <div style="font-size: 1.7em; color: #000000; opacity: 0.8; flex-shrink: 0;"><i class="fas fa-user-times"></i></div>
                    </div>
                </div>

                <div class="metric-card"
                    style="background: #f8f9fa; border-left: 6px solid #66bb6a; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); cursor: pointer; outline: none;"
                    onclick="showTab('homologacao')">
                    <div style="display: flex; align-items: flex-start; justify-content: space-between; gap: 15px;">
                        <div style="flex: 1;">
                            <h3 style="margin: 0; color: #666; font-size: 0.95em; margin-bottom: 12px; font-weight: 500;">Homologa√ß√µes</h3>
                            <p style="margin: 0; font-size: 2.2em; font-weight: bold; color: #333;" id="totalHomologacoes">-</p>
                        </div>
                        <div style="font-size: 1.7em; color: #000000; opacity: 0.8; flex-shrink: 0;"><i class="fas fa-check-circle"></i></div>
                    </div>
                </div>

                <div class="metric-card"
                    style="background: #f8f9fa; border-left: 6px solid #ab47bc; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); cursor: pointer; outline: none;"
                    onclick="showTab('release')">
                    <div style="display: flex; align-items: flex-start; justify-content: space-between; gap: 15px;">
                        <div style="flex: 1;">
                            <h3 style="margin: 0; color: #666; font-size: 0.95em; margin-bottom: 12px; font-weight: 500;">Releases</h3>
                            <p style="margin: 0; font-size: 2.2em; font-weight: bold; color: #333;" id="totalReleases">-</p>
                        </div>
                        <div style="font-size: 1.7em; color: #000000; opacity: 0.8; flex-shrink: 0;"><i class="fas fa-rocket"></i></div>
                    </div>
                </div>

                <div class="metric-card"
                    style="background: #f8f9fa; border-left: 6px solid #ffa726; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); cursor: pointer; outline: none;"
                    onclick="showTab('reunioes')">
                    <div style="display: flex; align-items: flex-start; justify-content: space-between; gap: 15px;">
                        <div style="flex: 1;">
                            <h3 style="margin: 0; color: #666; font-size: 0.95em; margin-bottom: 12px; font-weight: 500;">Reuni√µes</h3>
                            <p style="margin: 0; font-size: 2.2em; font-weight: bold; color: #333;" id="totalReunioes">-</p>
                        </div>
                        <div style="font-size: 1.7em; color: #000000; opacity: 0.8; flex-shrink: 0;"><i class="fas fa-calendar-alt"></i></div>
                    </div>
                </div>

                <div class="metric-card"
                    style="background: #f8f9fa; border-left: 6px solid #29b6f6; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); cursor: pointer; outline: none;"
                    onclick="showTab('https://tryvia.github.io/TryviaBI/mapa_visitas.html')">
                    <div style="display: flex; align-items: flex-start; justify-content: space-between; gap: 15px;">
                        <div style="flex: 1;">
                            <h3 style="margin: 0; color: #666; font-size: 0.95em; margin-bottom: 12px; font-weight: 500;">Total de Visitas</h3>
                            <p style="margin: 0; font-size: 2.2em; font-weight: bold; color: #333;" id="totalVisitas">-</p>
                        </div>
                        <div style="font-size: 1.7em; color: #000000; opacity: 0.8; flex-shrink: 0;"><i class="fas fa-map-marker-alt"></i></div>
                    </div>
                </div>

                <div class="metric-card"
                    style="background: #f8f9fa; border-left: 6px solid #ffc107; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); cursor: pointer; outline: none;"
                    onclick="showTab('evaluations')">
                    <div style="display: flex; align-items: flex-start; justify-content: space-between; gap: 15px;">
                        <div style="flex: 1;">
                            <h3 style="margin: 0; color: #666; font-size: 0.95em; margin-bottom: 12px; font-weight: 500;">Avalia√ß√£o M√©dia</h3>
                            <p style="margin: 0; font-size: 2.2em; font-weight: bold; color: #333;" id="averageRatingHome">-</p>
                        </div>
                        <div style="font-size: 1.7em; color: #000000; opacity: 0.8; flex-shrink: 0;"><i class="fas fa-star"></i></div>
                    </div>
                </div>
            </div>

            <!-- Se√ß√µes de Acesso R√°pido e Notifica√ß√µes -->
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 25px; margin-bottom: 30px;">
                <!-- Acesso R√°pido -->
                <div class="quick-access"
                    style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(118, 118, 118, 0.2);">
                    <h3 style="margin: 0 0 20px 0; color: #000; font-size: 1.4em;">
                        Acesso R√°pido
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
                        <button class="quick-btn" onclick="showTab('clients')" style="--btn-color: #4fc3f7; --btn-bg: rgba(79,195,247,0.08);">
                            <i class="fas fa-user-plus"></i>
                            <span class="label">Novo Cliente</span>
                        </button>
                        <button class="quick-btn" onclick="showTab('homologacao')" style="--btn-color: #66bb6a; --btn-bg: rgba(102,187,106,0.06);">
                            <i class="fas fa-clipboard-check"></i>
                            <span class="label">Homologa√ß√£o</span>
                        </button>
                        <button class="quick-btn" onclick="showTab('release')" style="--btn-color: #ff7043; --btn-bg: rgba(255,112,67,0.06);">
                            <i class="fas fa-rocket"></i>
                            <span class="label">Novo Release</span>
                        </button>
                        <button class="quick-btn" onclick="showTab('reunioes')" style="--btn-color: #ab47bc; --btn-bg: rgba(171,71,188,0.06);">
                            <i class="fas fa-users"></i>
                            <span class="label">Nova Reuni√£o</span>
                        </button>
                        <button class="quick-btn" onclick="showTab('documents')" style="--btn-color: #5c6bc0; --btn-bg: rgba(92,107,192,0.06);">
                            <i class="fas fa-file-alt"></i>
                            <span class="label">Documentos</span>
                        </button>
                        <button class="quick-btn" onclick="showTab('relatorioVisita')" style="--btn-color: #26a69a; --btn-bg: rgba(38,166,154,0.06);">
                            <i class="fas fa-file-signature"></i>
                            <span class="label">Relat√≥rio</span>
                        </button>
                    </div>
                </div>

                <!-- Notifica√ß√µes -->
                <div class="notifications"
                    style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(145, 145, 145, 0.2);">
                    <h3 style="margin: 0 0 20px 0; color: #000; font-size: 1.4em;">
                        Notifica√ß√µes
                    </h3>
                    <div id="notificationsList">
                        <div style="text-align: center; padding: 20px; color: #666;">
                            <i class="fas fa-check-circle"
                                style="font-size: 2em; margin-bottom: 10px; color: #4caf50;"></i>
                            <p style="margin: 0;">Atualiza√ß√£o 20/08/2025!</p>
                            <p style="margin: 5px 0 0 0; font-size: 0.9em;">As melhorias solicitadas nos tickets #4883,
                                #4882 e #4881 foram aplicadas e j√° est√£o dispon√≠veis em produ√ß√£o.</p>
                        </div>
                    </div>
                </div>
            </div>


            <div class="main-layout" style="display: block; margin-bottom: 40px;">

                <!-- Atividades Recentes e Clientes em Destaque -->
                <div>
                    <!-- Atividades Recentes -->
                    <div class="activities-section"
                        style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; margin-bottom: 30px; box-shadow:#000000;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="margin: 0; color: #000; font-size: 1.4em;">
                                Atividades Recentes
                            </h3>
                            <button onclick="refreshActivities()"
                                style="background: #5a5a5a; color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer;">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <div id="activitiesList" style="max-height: 400px; overflow-y: auto;">
                            <div style="text-align: center; padding: 40px; color: #666;">
                                <i class="fas fa-spinner fa-spin" style="font-size: 2em; margin-bottom: 15px;"></i>
                                <p>Carregando atividades...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Clientes em Destaque -->
                    <div class="clients-highlight"
                       style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.207);">
                        <h3 style="margin: 0 0 20px 0; color: #000; font-size: 1.4em;">
                            Clientes em Destaque
                        </h3>
                        <div id="clientsCarousel"
                            style="display: flex; overflow-x: auto; gap: 20px; padding: 10px 0; scroll-behavior: smooth;">
                            <div style="text-align: center; padding: 40px; color: #666; min-width: 100%;">
                                <i class="fas fa-spinner fa-spin" style="font-size: 2em; margin-bottom: 15px;"></i>
                                <p>Carregando clientes...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resumo -->
            <div class="charts-section"
                style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 40px;">
                <div
                    style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.207);">
                    <h3 style="margin: 0 0 20px 0; color: #000; font-size: 1.4em;">
                        Homologa√ß√µes por M√™s
                    </h3>
                    <canvas id="homologacoesChart" width="400" height="200"></canvas>
                </div>

                <div
                    style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.207);">
                    <h3 style="margin: 0 0 20px 0; color: #000; font-size: 1.4em;">
                        Releases por Tipo
                    </h3>
                    <canvas id="releasesChart" width="400" height="200"></canvas>
                </div>
            </div>
        </div>

        <div class="content-section" id="gestao">
            <div class="form-container">
                <h3 style="margin-bottom: 20px;">Adicionar Funcion√°rio</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="funcionarioNome">Nome</label>
                        <input id="funcionarioNome" placeholder="Nome completo do funcion√°rio..." type="text" />
                    </div>
                    <div class="form-group">
                        <label for="funcionarioCargo">Cargo</label>
                        <input id="funcionarioCargo" placeholder="Cargo/Fun√ß√£o do funcion√°rio..." type="text" />
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="funcionarioLink">Link</label>
                        <input id="funcionarioLink" placeholder="https://..." type="url" />
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <label for="funcionarioFoto">Foto</label>
                        <div class="upload-area" onclick="document.getElementById('funcionarioFoto').click()">
                            <div class="upload-icon">üì∑</div>
                            <p>Arraste e solte ou clique para selecionar uma foto</p>
                            <input id="funcionarioFoto" style="display: none;" type="file" accept="image/*" />
                        </div>
                    </div>
                </div>
                <button class="btn-primary" onclick="adicionarFuncionario()">Adicionar Funcion√°rio</button>
            </div>
            <h3 style="margin-top: 40px; margin-bottom: 20px;">Funcion√°rios</h3>
            <div class="documents-grid" id="funcionariosList">
                <div class="empty-state">
                    <div class="empty-state-icon">üë•</div>
                    <p>Nenhum funcion√°rio encontrado</p>
                    <p>Adicione funcion√°rios para come√ßar</p>
                </div>
            </div>
        </div>
        <div class="content-section" id="documents">
            <button class="btn-nova-implantacao" onclick="showTab('nova-implantacao')">
                <i style="margin-right: 8px;"></i>
                Resumo de Projetos 
            </button>
            <div class="form-container">
                <h3 style="margin-bottom: 20px;">Adicionar Novo Documento </h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="documentTitle">T√≠tulo</label>
                        <input id="documentTitle" placeholder="T√≠tulo do documento..." type="text" />
                    </div>
                    <div class="form-group">
                        <label for="documentAuthor">Autor</label>
                        <select id="documentAuthor">
                            <option value="">Selecione o autor</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="documentType">Tipo</label>
                        <select id="documentType">
                            <option value="">Selecione o tipo</option>
                            <option value="manual">Manual</option>
                            <option value="guia">Guia</option>
                            <option value="checklist">Checklist</option>
                            <option value="template">Template</option>
                            <option value="outro">Outro</option>
                        </select>
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <label for="documentFile">Arquivo</label>
                        <div class="upload-area" onclick="document.getElementById('documentFile').click()">
                            <div class="upload-icon">üìÑ</div>
                            <p>Arraste e solte ou clique para selecionar um arquivo</p>
                            <input id="documentFile" style="display: none;" type="file" />
                        </div>
                    </div>
                </div>
                <button class="btn-primary" onclick="addDocument()">Adicionar Documento</button>
            </div>
            <h3 style="margin-top: 40px; margin-bottom: 20px;">Documentos Existentes</h3>
            <div class="documents-grid" id="documentsList">
                <div class="empty-state">
                    <div class="empty-state-icon">üìÅ</div>
                    <p>Nenhum documento encontrado</p>
                    <p>Adicione documentos para come√ßar</p>
                </div>
            </div>
        </div>

        <!-- Modal de Nova Implanta√ß√£o -->
        <div id="implantacaoModal" class="implantacao-modal">
            <div class="implantacao-modal-content">
                <div class="implantacao-modal-header">
                    <h2><i class="fas fa-cogs" style="margin-right: 10px;"></i>Nova Implanta√ß√£o</h2>
                    <span class="implantacao-modal-close" onclick="fecharModalImplantacao()">&times;</span>
                </div>

                <form id="implantacaoForm">
                    <div class="implantacao-form-row">
                        <div class="implantacao-form-group">
                            <label for="implantacaoEspecialista">Especialista</label>
                            <input type="text" id="implantacaoEspecialista" placeholder="Nome do especialista" required>
                        </div>
                        <div class="implantacao-form-group">
                            <label for="implantacaoData">Data de Atualiza√ß√£o</label>
                            <input type="date" id="implantacaoData" required>
                        </div>
                        <div class="implantacao-form-group">
                            <label for="implantacaoInicio">Data de In√≠cio</label>
                            <input type="date" id="implantacaoInicio" required>
                        </div>
                        <div class="implantacao-form-group">
                            <label for="implantacaoTermino">Data de T√©rmino</label>
                            <input type="date" id="implantacaoTermino" required>
                        </div>
                    </div>
                      <div class="implantacao-form-row">
                        <div class="implantacao-form-group">
                            <label for="novaImplantacaoCliente">Cliente</label>
                            <select id="novaImplantacaoCliente" required>
                                <option value="">Selecione um cliente...</option>
                            </select>
                        </div>
                        <div class="implantacao-form-group">
                            <label for="implantacaoProjeto">Projeto</label>
                            <input type="text" id="implantacaoProjeto" placeholder="Nome do projeto" required>
                        </div>
                    </div>

                    <div class="implantacao-form-row">
                        <div class="implantacao-form-group">
                            <label for="implantacaoTipo">Tipo</label>
                            <select id="implantacaoTipo" required>
                                <option value="">Selecione o tipo</option>
                                <option value="Implanta√ß√£o Inicial">Implanta√ß√£o Inicial</option>
                                <option value="Migra√ß√£o">Migra√ß√£o</option>
                                <option value="Atualiza√ß√£o">Atualiza√ß√£o</option>
                                <option value="Manuten√ß√£o">Manuten√ß√£o</option>
                                <option value="Treinamento">Treinamento</option>
                                <option value="Suporte">Suporte</option>
                            </select>
                        </div>
                        <div class="implantacao-form-group">
                            <label for="implantacaoTickets">Tickets Pendentes</label>
                            <input type="number" id="implantacaoTickets" placeholder="N√∫mero de tickets" min="0"
                                value="0">
                        </div>
                    </div>

                    <div class="implantacao-form-group">
                        <label for="implantacaoResumo">Resumo</label>
                        <textarea id="implantacaoResumo" placeholder="Descreva os detalhes da implanta√ß√£o..."
                            required></textarea>
                    </div>

                    <button type="submit" class="btn-salvar-implantacao">
                        <i class="fas fa-save" style="margin-right: 8px;"></i>
                        Salvar Implanta√ß√£o
                    </button>
                </form>
            </div>
        </div>

        <!-- Nova Se√ß√£o: Nova Implanta√ß√£o -->
        <div class="content-section" id="nova-implantacao">
            <div style="max-width: 1200px; margin: 50px auto 0; padding: 0 20px;">
                <!-- Filtros -->
                <div
                     style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(165, 165, 165, 1);">
                    <h4 style="color: #000000; margin-bottom: 20px; font-size: 1.3em;">
                        <i class="fas fa-filter" style="margin-right: 10px;"></i>
                        Filtros
                    </h4>
                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; align-items: end;">
                        <div class="implantacao-form-group">
                            <label for="filtroEspecialista">Especialista</label>
                            <select id="filtroEspecialista" onchange="filtrarImplantacoes()">
                                <option value="">Todos os especialistas</option>
                            </select>
                        </div>
                        <div class="implantacao-form-group">
                            <label for="filtroCliente">Cliente</label>
                            <select id="filtroCliente" onchange="filtrarImplantacoes()">
                                <option value="">Todos os clientes</option>
                            </select>
                        </div>
                        <div class="implantacao-form-group">
                            <label for="filtroTipo">Tipo</label>
                            <select id="filtroTipo" onchange="filtrarImplantacoes()">
                                <option value="">Todos os tipos</option>
                                <option value="Implanta√ß√£o Inicial">Implanta√ß√£o Inicial</option>
                                <option value="Migra√ß√£o">Migra√ß√£o</option>
                                <option value="Atualiza√ß√£o">Atualiza√ß√£o</option>
                                <option value="Manuten√ß√£o">Manuten√ß√£o</option>
                                <option value="Treinamento">Treinamento</option>
                                <option value="Suporte">Suporte</option>
                            </select>
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <button onclick="limparFiltros()"
                                style="background-color: #ff9800; color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: background-color 0.3s ease;">
                                <i class="fas fa-eraser" style="margin-right: 8px;"></i>
                                Limpar
                            </button>
                            <button onclick="carregarImplantacoesLista()"
                                style="background-color: #4caf50; color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: background-color 0.3s ease;">
                                <i class="fas fa-sync-alt" style="margin-right: 8px;"></i>
                                Atualizar
                            </button>
                            <!-- Bot√£o adicionar resumo (+) -->
                            <button title="Adicionar resumo" onclick="abrirModalImplantacao()" class="btn-add-implantacao" style="margin-left:6px;">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Lista de Implanta√ß√µes -->
                <div id="implantacoesContainer" style="min-height: 200px; margin-top: 24px;">
                    <div id="loadingImplantacoes" style="text-align: center; padding: 40px; color: #666;">
                        <i class="fas fa-spinner fa-spin" style="font-size: 2em; margin-bottom: 15px;"></i>
                        <p>Carregando implanta√ß√µes...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Se√ß√£o: Treinamento -->
        <div class="content-section" id="treinamento">
            <div style="display: grid; grid-template-columns: 300px 1fr; gap: 30px; min-height: 600px;">
                <!-- Sidebar de Produtos -->
                <div
                    style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(165, 165, 165, 1);">
                    <h3 style="color: #2c3e50; margin-bottom: 20px; font-size: 1.5em; text-align: center;">
                        <i class="fas fa-list" style="margin-right: 10px;"></i>Produtos
                    </h3>

                    <!-- Lista de Produtos -->
                    <div id="productsList" style="margin-bottom: 20px;">
                        <div class="product-item-training active" data-product="sing"
                            style="background: #4fc3f7; color: white; padding: 15px; border-radius: 10px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;">
                            <i class="fas fa-desktop" style="margin-right: 10px; font-size: 1.2em;"></i>
                            <span style="font-weight: bold;">Sing</span>
                        </div>
                        <div class="product-item-training" data-product="telemetria"
                            style="background: white; color: #333; padding: 15px; border-radius: 10px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;">
                            <i class="fas fa-satellite-dish" style="margin-right: 10px; font-size: 1.2em;"></i>
                            <span style="font-weight: bold;">Telemetria</span>
                        </div>
                        <div class="product-item-training" data-product="etrip"
                            style="background: white; color: #333; padding: 15px; border-radius: 10px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;">
                            <i class="fas fa-route" style="margin-right: 10px; font-size: 1.2em;"></i>
                            <span style="font-weight: bold;">Etrip</span>
                        </div>
                        <div class="product-item-training" data-product="optz"
                            style="background: white; color: #333; padding: 15px; border-radius: 10px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;">
                            <i class="fas fa-cogs" style="margin-right: 10px; font-size: 1.2em;"></i>
                            <span style="font-weight: bold;">OPT+z</span>
                        </div>
                        <div class="product-item-training" data-product="portal"
                            style="background: white; color: #333; padding: 15px; border-radius: 10px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;">
                            <i class="fas fa-globe" style="margin-right: 10px; font-size: 1.2em;"></i>
                            <span style="font-weight: bold;">Portal</span>
                        </div>
                    </div>

                    <!-- Bot√£o Adicionar Produto -->
                    <button onclick="showAddProductModal()"
                        style="width: 100%; background: hsl(215, 35%, 18% , 1); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: bold; transition: background 0.3s ease;">
                        <i class="fas fa-plus" style="margin-right: 8px;"></i>Adicionar Produto
                    </button>
                </div>

                <!-- √Årea Principal de Conte√∫do -->
                <div
                    style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(165, 165, 165, 1);">
                    <!-- Cabe√ßalho da √Årea de Conte√∫do -->
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                        <h3 id="currentProductTitle" style="color: #2c3e50; margin: 0; font-size: 1.8em;">
                            <i class="fas fa-desktop" style="margin-right: 10px;"></i>Treinamentos - Sing
                        </h3>
                        <button id="addVideoBtn" onclick="showAddVideoModal()"
                            style="background: #4caf50; color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: background 0.3s ease;">
                            <i class="fas fa-video"></i>
                            Adicionar V√≠deo
                        </button>
                    </div>

                    <!-- Player de V√≠deo -->
                    <div id="videoPlayerContainer"
                        style="background: #000; border-radius: 10px; margin-bottom: 25px; min-height: 300px; display: flex; align-items: center; justify-content: center;">
                        <div style="text-align: center; color: #666;">
                            <i class="fas fa-play-circle" style="font-size: 4em; margin-bottom: 15px;"></i>
                            <p style="font-size: 1.2em;">Selecione um v√≠deo para reproduzir</p>
                        </div>
                    </div>

                    <!-- Lista de V√≠deos -->
                    <div id="videosList">
                        <!-- V√≠deos ser√£o carregados aqui dinamicamente -->
                        <div style="text-align: center; padding: 40px; color: #666;">
                            <i class="fas fa-video" style="font-size: 3em; margin-bottom: 15px;"></i>
                            <p style="font-size: 1.2em;">Nenhum v√≠deo encontrado para este produto</p>
                            <p>Clique em "Adicionar V√≠deo" para come√ßar</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <!-- Modal para Adicionar V√≠deo -->
        <div id="addVideoModal" class="modal"
            style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100vw; height: 100vh; background-color: rgba(0,0,0,0.5); align-items: center; justify-content: center;">
            <div class="modal-content"
                style="background: #fff; margin: auto; padding: 30px; border-radius: 12px; max-width: 500px; width: 100%; box-shadow: 0 4px 24px rgba(0,0,0,0.2); position: relative;">
                <span class="close" onclick="closeAddVideoModal()">&times;</span>
                <h3>
                    <i class="fas fa-video"></i>
                    Adicionar Novo V√≠deo de Treinamento
                </h3>
                <form id="addVideoForm">
                    <div class="form-group">
                        <label for="videoTitle">T√≠tulo do V√≠deo</label>
                        <input type="text" id="videoTitle" placeholder="Digite o t√≠tulo do v√≠deo" required>
                    </div>
                    <div class="form-group">
                        <label for="videoLevel">N√≠vel</label>
                        <select id="videoLevel" required>
                            <option value="">Selecione o n√≠vel</option>
                            <option value="basico">B√°sico</option>
                            <option value="intermediario">Intermedi√°rio</option>
                            <option value="avancado">Avan√ßado</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="videoDescription">Descri√ß√£o</label>
                        <textarea id="videoDescription" rows="3" placeholder="Descreva o conte√∫do do v√≠deo"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="videoDuration">Dura√ß√£o (minutos)</label>
                        <input type="number" id="videoDuration" placeholder="Ex: 15" min="1">
                    </div>
                    <div class="form-group">
                        <label for="videoFile">Arquivo de V√≠deo ou URL</label>
                        <input type="text" id="videoUrl" placeholder="Cole a URL do v√≠deo (YouTube, Vimeo, etc.)"
                            style="margin-bottom: 10px;">
                        <div class="upload-area" onclick="document.getElementById('videoFile').click()">
                            <i class="fas fa-cloud-upload-alt"
                                style="font-size: 2em; margin-bottom: 10px; color: #4fc3f7;"></i>
                            <p>Clique para selecionar arquivo de v√≠deo</p>
                            <small>Ou cole uma URL acima. Formatos: MP4, AVI, MOV (m√°x. 500MB)</small>
                            <input type="file" id="videoFile" style="display: none;" accept="video/*">
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button type="button" class="btn btn-secondary" onclick="closeAddVideoModal()">Cancelar</button>
                        <button type="submit" class="btn">Adicionar V√≠deo</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal para Adicionar Produto -->
        <div class="modal-overlay" id="addProductModal">
            <div class="modal-content" style="max-width: 500px;">
                <h3 style="color: #4fc3f7; margin-bottom: 20px;">
                    <i class="fas fa-plus" style="margin-right: 10px;"></i>
                    Adicionar Novo Produto
                </h3>
                <form id="addProductForm">
                    <div class="form-group">
                        <label for="productName">Nome do Produto</label>
                        <input type="text" id="productNameTreinamento" placeholder="Digite o nome do produto" required>
                    </div>
                    <div class="form-group">
                        <label for="productIcon">√çcone</label>
                        <select id="productIcon" required>
                            <option value="">Selecione um √≠cone</option>
                            <option value="fas fa-desktop">üíª Desktop</option>
                            <option value="fas fa-mobile-alt">üì± Mobile</option>
                            <option value="fas fa-globe">üåê Web</option>
                            <option value="fas fa-database">üóÑÔ∏è Database</option>
                            <option value="fas fa-cloud">‚òÅÔ∏è Cloud</option>
                            <option value="fas fa-cogs">‚öôÔ∏è Sistema</option>
                            <option value="fas fa-chart-line">üìä Analytics</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="productDescription">Descri√ß√£o</label>
                        <textarea id="productDescription" rows="3" placeholder="Descreva o produto"></textarea>
                    </div>
                    <div class="modal-buttons" style="margin-top: 20px;">
                        <button type="button" class="modal-button cancel"
                            onclick="closeAddProductModal()">Cancelar</button>
                        <button type="submit" class="modal-button confirm">Adicionar Produto</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="content-section" id="clients">
            <div class="client-tabs">
            <div class="client-tab-content" id="view-clients" style="display: block;">
                <h3 style="margin-bottom: 20px;"></h3>
                <div
                    style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(145, 145, 145, 0.2);">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="filterClientGroup">Filtrar por Grupo</label>
                            <select id="filterClientGroup" onchange="filterClientsByGroup()">
                                <option value="">Todos os grupos</option>
                                <option value="4">JCA</option>
                                <option value="1">GRUPO GUANABARA</option>
                                <option value="7">VIA√á√ÉO √ÅGUIA BRANCA S/A</option>
                                <option value="Nenhum">Nenhum</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="filterClientSubgroup">Filtrar por Subgrupo</label>
                            <select id="filterClientSubgroup" onchange="filterClientsByGroup()">
                                <option value="">Todos os subgrupos</option>
                                <option value="4">Nenhum</option>
                                <option value="1">Carga</option>
                                <option value="2">Urbano</option>
                                <option value="3">Rodovi√°rio</option>
                            </select>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="filterClientName">Filtrar por Nome</label>
                            <input type="text" id="filterClientName" placeholder="Digite o nome do cliente..."
                                oninput="filterClientsByGroup()">
                        </div>
                        <div class="form-group">
                            <label for="filterClientStatus">Filtrar por Status</label>
                            <select id="filterClientStatus" onchange="filterClientsByGroup()">
                                <option value="">Todos os status</option>
                                <option value="Cliente Ativo">Cliente Ativo</option>
                                <option value="Cliente Inativo">Cliente Inativo</option>
                            </select>
                        </div>
                        <div class="form-group" style="display: flex; align-items: flex-end; gap:8px;">
                            <button class="btn-primary" id="addClientPlusBtn" onclick="openNewClientModal()" title="Adicionar Cliente" style="font-size:20px; padding:6px 12px; border-radius:6px;">+</button>
                        </div>
                    </div>
                </div>
                <div class="clients-grid" id="clientsList">
                    <div class="empty-state">
                        <div class="empty-state-icon">üë•</div>
                        <p>Nenhum cliente encontrado</p>
                        <p>Adicione clientes para come√ßar</p>
                    </div>
                </div>
            </div>
            <div class="client-tab-content" id="add-client" style="display: none;">
                <div class="form-container">
                    <h3 style="margin-bottom: 20px;">Adicionar Novo Cliente</h3>
                    <div class="form-row">
                        <div class="form-group" style="flex: 0 0 150px; text-align: center;">
                            <label>Logo do Cliente</label>
                            <div class="upload-area" id="logoPreview"
                                onclick="document.getElementById('clientLogo').click()">
                                <div style="font-size: 48px; margin-bottom: 10px;">üì∑</div>
                                <p>Clique para adicionar logo</p>
                            </div>
                            <input id="clientLogo" onchange="previewLogo(this)" style="display: none;" type="file" />
                        </div>
                        <div class="form-group" style="flex: 2;">
                            <label for="clientName">Nome do Cliente</label>
                            <input id="clientName" placeholder="Nome completo ou da empresa..." type="text" />
                            <label for="clientEmail" style="margin-top: 15px;">CF Empresa (Campo Freshdesk)</label>
                            <input id="clientCfEmpresa" placeholder="Valor do campo cf_empresa no Freshdesk..."
                                type="text" />
                            <label for="clientPhone" style="margin-top: 15px;">Telefone</label>
                            <input id="clientPhone" placeholder="(XX) XXXXX-XXXX" type="tel" />
                            <label for="clientCNPJ" style="margin-top: 15px;">CNPJ</label>
                            <input id="clientCNPJ" placeholder="00.000.000/0000-00" type="text" />
                            <label for="clientStatus" style="margin-top: 15px;">Status do Cliente</label>
                            <select id="clientStatus">
                                <option value="Cliente Ativo">Cliente Ativo</option>
                                <option value="Cliente Inativo">Cliente Inativo</option>
                            </select>
                            <label for="clientGroup" style="margin-top: 15px;">Grupo</label>
                            <select id="clientGroup">
                                <option value="10">Nenhum</option>
                                <option value="4">JCA</option>
                                <option value="1">GRUPO GUANABARA</option>
                                <option value="7">VIA√á√ÉO √ÅGUIA BRANCA S/A</option>
                            </select>
                            <label for="clientSubgroup" style="margin-top: 15px;">Subgrupo</label>
                            <select id="clientSubgroup">
                                <option value="4">Nenhum</option>
                                <option value="1">Carga</option>
                                <option value="2">Urbano</option>
                                <option value="3">Rodovi√°rio</option>
                            </select>
                            <label for="clientCfEmpresa" style="margin-top: 15px;">Email</label>
                            <input id="clientEmail" placeholder="email@exemplo.com" type="email" />
                            <label for="clientBiLink" style="margin-top: 15px;">Link do Dashboard BI</label>
                            <input id="clientBiLink" placeholder="https://app.powerbi.com/dashboard/..." type="url" />
                        </div>
                    </div>
                    <div class="products-section">
                        <div class="integration-section">
                            <h4>Integra√ß√£o</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="integrationType">Tipo</label>
                                    <select id="integrationType">
                                        <option value="servicos">Servi√ßos</option>
                                        <option value="servicos-bilhetes">Servi√ßos/Bilhetes</option>
                                        <option value="escala">Escala</option>
                                        <option value="api">API</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="integrationSystem">Sistemas</label>
                                    <select id="integrationSystem">
                                        <option value="proprio">Sistema Pr√≥prio</option>
                                        <option value="totalbus">Totalbus</option>
                                        <option value="smartbus">Smartbus</option>
                                        <option value="optz">Opt+z</option>
                                    </select>
                                </div>
                                <div class="form-group" style="flex: 0 0 120px; display: flex; align-items: flex-end;">
                                    <button class="btn-secondary" onclick="addIntegration()">Adicionar</button>
                                </div>
                            </div>
                            <div id="integrationList">
                                <div class="products-grid" id="integrationContainer">
                                    <p style="color: rgba(0, 0, 0, 0.85);">Nenhuma integra√ß√£o adicionada ainda.</p>
                                </div>
                            </div>
                        </div>
                        <h4>Produtos / Servi√ßos Associados</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="productName">Nome do Produto/Servi√ßo</label>
                                <input id="productNameExample" placeholder="Ex: Software SaaS, Consultoria..."
                                    type="text" />
                            </div>
                            <div class="form-group" style="flex: 0 0 100px;">
                                <label for="productQuantity">Quantidade</label>
                                <input id="productQuantity" min="1" type="number" value="1" />
                            </div>
                            <div class="form-group" style="flex: 0 0 120px; display: flex; align-items: flex-end;">
                                <button class="btn-secondary" onclick="addProduct()">Adicionar</button>
                            </div>
                        </div>
                        <div id="productsList">
                            <div class="products-grid" id="productsContainer">
                                <p style="color: rgba(0, 0, 0, 0.85);">Nenhum produto adicionado ainda.</p>
                            </div>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="saveClient()" style="margin-top: 30px;">Salvar Cliente</button>
                </div>
            </div>
            <div class="client-tab-content" id="edit-client-tab" style="display: none;">
                <div class="form-container">
                    <h3 style="margin-bottom: 20px;">Editar Cliente</h3>
                    <input id="editClientId" type="hidden" />
                    <div class="form-row">
                        <div class="form-group" style="flex: 0 0 150px; text-align: center;">
                            <label>Logo do Cliente</label>
                            <div class="upload-area" id="editLogoPreview"
                                onclick="document.getElementById('editClientLogo').click()">
                                <div style="font-size: 48px; margin-bottom: 10px;">üì∑</div>
                                <p>Clique para adicionar logo</p>
                            </div>
                            <input id="editClientLogo" onchange="previewEditLogo(this)" style="display: none;"
                                type="file" />
                        </div>
                        <div class="form-group" style="flex: 2;">
                            <label for="editClientName">Nome do Cliente</label>
                            <input id="editClientName" placeholder="Nome completo ou da empresa..." type="text" />
                            <label for="editClientEmail" style="margin-top: 15px;">CF Empresa (Campo Freshdesk)</label>
                            <input id="editClientEmail" placeholder="email@exemplo.com" type="email" />
                            <label for="editClientPhone" style="margin-top: 15px;">Telefone</label>
                            <input id="editClientPhone" placeholder="(XX) XXXXX-XXXX" type="tel" />
                            <label for="editClientCNPJ" style="margin-top: 15px;">CNPJ</label>
                            <input id="editClientCNPJ" placeholder="00.000.000/0000-00" type="text" />
                            <label for="editClientStatus" style="margin-top: 15px;">Status do Cliente</label>
                            <select id="editClientStatus">
                                <option value="2">Cliente Ativo</option>
                                <option value="3">Cliente Inativo</option>
                            </select>
                            <label for="editClientGroup" style="margin-top: 15px;">Grupo</label>
                            <select id="editClientGroup">
                                <option value="">Nenhum</option>
                                <option value="4">JCA</option>
                                <option value="1">GRUPO GUANABARA</option>
                                <option value="7">VIA√á√ÉO √ÅGUIA BRANCA S/A</option>
                                <!-- ...outros grupos... -->
                            </select>
                            <label for="editClientSubgroup" style="margin-top: 15px;">Subgrupo</label>
                            <select id="editClientSubgroup">
                                <option value="4">Nenhum</option>
                                <option value="1">Carga</option>
                                <option value="2">Urbano</option>
                                <option value="3">Rodovi√°rio</option>
                            </select>
                            <label for="editClientCfEmpresa" style="margin-top: 15px;">Email</label>
                            <input id="editClientCfEmpresa" placeholder="Valor do campo cf_empresa no Freshdesk..."
                                type="text" />
                            <label for="editClientBiLink" style="margin-top: 15px;">Link do Dashboard BI</label>
                            <input id="editClientBiLink" placeholder="https://app.powerbi.com/dashboard/..."
                                type="url" />
                        </div>
                    </div>
                    <div class="products-section">
                        <div class="integration-section">
                            <h4>Integra√ß√£o</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="editIntegrationType">Tipo</label>
                                    <select id="editIntegrationType">
                                        <option value="servicos">Servi√ßos</option>
                                        <option value="servicos-bilhetes">Servi√ßos/Bilhetes</option>
                                        <option value="escala">Escala</option>
                                        <option value="api">API</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="editIntegrationSystem">Sistemas</label>
                                    <select id="editIntegrationSystem">
                                        <option value="proprio">Sistema Pr√≥prio</option>
                                        <option value="totalbus">Totalbus</option>
                                        <option value="smartbus">Smartbus</option>
                                        <option value="optz">Opt+z</option>
                                    </select>
                                </div>
                                <div class="form-group" style="flex: 0 0 120px; display: flex; align-items: flex-end;">
                                    <button class="btn-secondary" onclick="addEditIntegration()">Adicionar</button>
                                </div>
                            </div>
                            <div id="editIntegrationList">
                                <div class="products-grid" id="editIntegrationContainer">
                                    <p style="color: rgba(0, 0, 0, 0.85);">Nenhuma integra√ß√£o adicionada ainda.</p>
                                </div>
                            </div>
                        </div>
                        <h4>Produtos / Servi√ßos Associados</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="editProductName">Nome do Produto/Servi√ßo</label>
                                <input id="editProductName" placeholder="Ex: Software SaaS, Consultoria..."
                                    type="text" />
                            </div>
                            <div class="form-group" style="flex: 0 0 100px;">
                                <label for="editProductQuantity">Quantidade</label>
                                <input id="editProductQuantity" min="1" type="number" value="1" />
                            </div>
                            <div class="form-group" style="flex: 0 0 120px; display: flex; align-items: flex-end;">
                                <button class="btn-secondary" onclick="addEditProduct()">Adicionar</button>
                            </div>
                        </div>
                        <div id="editProductsList">
                            <div class="products-grid" id="editProductsContainer">
                                <p style="color: rgba(0, 0, 0, 0.85);">Nenhum produto adicionado ainda.</p>
                            </div>
                        </div>
                    </div>
                    <button class="btn-primary" onclick="updateClient()" style="margin-top: 30px;">Atualizar
                        Cliente</button>
                    <button class="btn-secondary" onclick="showClientTab('view-clients')"
                        style="margin-top: 30px; margin-left: 10px;">Cancelar</button>
                </div>
            </div>
            <div class="client-tab-content" id="view-client-documents" style="display:none;">
            </div>
        </div>

        <!-- Aba Painel de Tickets -->
        <div class="content-section" id="painel-tickets">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                <h3 style="margin: 0; color: #000; font-size: 1.8em;">
                    <i class="fas fa-ticket-alt" style="margin-right: 10px; color: #ff9800;"></i>
                    Painel de Tickets
                </h3>
                <button onclick="refreshAllTickets()"
                    style="background: #4fc3f7; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">
                    <i class="fas fa-sync-alt"></i> Atualizar
                </button>
            </div>

            <!-- M√©tricas dos Tickets -->
            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div
                    style="background: linear-gradient(135deg, #b3e5fc 0%, #81d4fa 100%); border-radius: 12px; padding: 20px; text-align: center;">
                    <h4 style="margin: 0 0 10px 0; color: #000;">Total de Tickets</h4>
                    <p style="margin: 0; font-size: 2em; font-weight: bold; color: #0277bd;" id="totalTicketsCount">-
                    </p>
                </div>
                <div
                    style="background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%); border-radius: 12px; padding: 20px; text-align: center;">
                    <h4 style="margin: 0 0 10px 0; color: #000;">Abertos</h4>
                    <p style="margin: 0; font-size: 2em; font-weight: bold; color: #2e7d32;" id="openTicketsCount">-</p>
                </div>
                <div
                    style="background: linear-gradient(135deg, #ffcc80 0%, #ffb74d 100%); border-radius: 12px; padding: 20px; text-align: center;">
                    <h4 style="margin: 0 0 10px 0; color: #000;">Pendentes</h4>
                    <p style="margin: 0; font-size: 2em; font-weight: bold; color: #ef6c00;" id="pendingTicketsCount">-
                    </p>
                </div>
                <div
                    style="background: linear-gradient(135deg, #d1c4e9 0%, #b39ddb 100%); border-radius: 12px; padding: 20px; text-align: center;">
                    <h4 style="margin: 0 0 10px 0; color: #000;">Resolvidos</h4>
                    <p style="margin: 0; font-size: 2em; font-weight: bold; color: #7b1fa2;" id="resolvedTicketsCount">-
                    </p>
                </div>
            </div>

            <!-- Filtros -->
            <div
                style="background: rgba(179, 229, 252, 0.95); border-radius: 10px; padding: 20px; margin-bottom: 30px;">
                <h4 style="margin: 0 0 15px 0; color: #000;">Filtros</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div>
                        <label
                            style="display: block; margin-bottom: 5px; font-weight: bold; color: #000;">Cliente:</label>
                        <select id="filterByClient" onchange="filterTickets()"
                            style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Todos os clientes</option>
                        </select>
                    </div>
                    <div>
                        <label
                            style="display: block; margin-bottom: 5px; font-weight: bold; color: #000;">Status:</label>
                        <select id="filterByStatus" onchange="filterTickets()"
                            style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Todos os status</option>
                            <option value="2">Aberto</option>
                            <option value="3">Pendente</option>
                            <option value="4">Resolvido</option>
                            <option value="5">Fechado</option>
                        </select>
                    </div>
                    <div>
                        <label
                            style="display: block; margin-bottom: 5px; font-weight: bold; color: #000;">Prioridade:</label>
                        <select id="filterByPriority" onchange="filterTickets()"
                            style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Todas as prioridades</option>
                            <option value="1">Baixa</option>
                            <option value="2">M√©dia</option>
                            <option value="3">Alta</option>
                            <option value="4">Urgente</option>
                        </select>
                    </div>
                    <div>
                        <label
                            style="display: block; margin-bottom: 5px; font-weight: bold; color: #000;">Per√≠odo:</label>
                        <select id="filterByPeriod" onchange="filterTickets()"
                            style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Todos os per√≠odos</option>
                            <option value="today">Hoje</option>
                            <option value="week">Esta semana</option>
                            <option value="month">Este m√™s</option>
                            <option value="quarter">Este trimestre</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Lista de Tickets -->
            <div style="background: rgba(179, 229, 252, 0.95); border-radius: 10px; padding: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h4 style="margin: 0; color: #000;">Lista de Tickets</h4>
                    <span id="ticketsResultCount" style="color: #666; font-size: 0.9em;">Carregando...</span>
                </div>
                <div id="allTicketsList" style="max-height: 600px; overflow-y: auto;">
                    <div style="text-align: center; padding: 40px; color: #666;">
                        <i class="fas fa-spinner fa-spin" style="font-size: 2em; margin-bottom: 20px;"></i>
                        <p>Carregando todos os tickets...</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="content-section" id="dashboard">
                <div style="width:100%;">
                    <!-- Iframe responsivo exibindo relat√≥rio Power BI -->
                    <div style="position:relative;padding-top:56.25%; /* 16:9 */">
                        <iframe title="Power BI View"
                            src="https://app.powerbi.com/view?r=eyJrIjoiYjgzMDMxYWYtZDU2Ni00ZWFkLTk5NTgtZWM5ZDdlY2U2MGRhIiwidCI6IjFiNzUzM2EyLWM0MGMtNDA5OS1iNDBjLWU0MzM4OWIxMGU1ZCJ9"
                            style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;"
                            allowFullScreen="true" frameborder="0" scrolling="no"></iframe>
                    </div>
                </div>
            </div>
        </div>
        <div class="content-section" id="raio-x">
            <iframe src="raio-x/index.html" style="width: 100%; height: 100vh; border: none; border-radius: 10px;"></iframe>
        </div>
        <div class="content-section" id="homologacao">
            <div class="tab-content active" id="listaHomologacoes">
                    <div class="filters-section">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="filtroSistema">Filtrar por Sistema</label>
                                <select id="filtroSistema" onchange="filtrarHomologacoes()">
                                    <option value="">Todos os sistemas</option>
                                    <option value="Sing">Sing</option>
                                    <option value="Telemetria">Telemetria</option>
                                    <option value="Etrip">Etrip</option>
                                    <option value="OPT+z">OPT+z</option>
                                    <option value="POrtal">Portal</option>
                                    <option value="Outro">Outro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="filtroEspecialista">Filtrar por Especialista</label>
                                <input id="filtroEspecialista" onkeyup="filtrarHomologacoes()"
                                    placeholder="Nome do especialista" type="text" />
                            </div>
                            <div class="form-group">
                                <label for="filtroDataInicio">Data in√≠cio</label>
                                <input id="filtroDataInicio" type="date" onchange="filtrarHomologacoes()" />
                            </div>
                            <div class="form-group">
                                <label for="filtroDataFim">Data fim</label>
                                <input id="filtroDataFim" type="date" onchange="filtrarHomologacoes()" />
                            </div>
                            <div class="form-group" style="display:flex; align-items:flex-end;">
                                <label style="visibility:hidden; margin:0;">Novo</label>
                                <button id="addHomologacaoPlusBtn" class="btn btn-primary" type="button" onclick="openNewHomologacaoModal()" style="padding:8px 12px; font-size:18px; border-radius:8px; margin-left:8px;">Ôºã</button>
                            </div>
                        </div>
                    </div>
                    <div class="homologacoes-grid" id="homologacoesGrid">
                    </div>
                    <div class="empty-state" id="emptyStateHomologacao" style="display: none;">
                        <div>üìã</div>
                        <h3>Nenhuma homologa√ß√£o encontrada</h3>
                        <p>Registre sua primeira homologa√ß√£o usando o formul√°rio na aba "Formul√°rio de Registro".</p>
                    </div>
                    <div id="totalHomologacoesFiltradas"
                        style="margin: 20px 0 10px 0; font-weight: bold; font-size: 1.1em; text-align: right;"></div>
                    <!-- Modal para Nova Homologa√ß√£o (hostar√° o formul√°rio existente quando aberto) -->
                    <div class="modal-overlay" id="newHomologacaoModal" style="display: none;">
                        <div class="modal-content" id="newHomologacaoModalContent" style="max-width:900px; width:95%;">
                            <span class="close" onclick="closeNewHomologacaoModal()">&times;</span>
                            <div id="newHomologacaoModalHost"></div>
                        </div>
                    </div>
                    
                    <!-- Formul√°rio de Homologa√ß√£o (ser√° movido para dentro do modal quando aberto) -->
                    <form id="homologacaoForm" style="display: none;">
                        <h3 style="margin-bottom: 20px;">Cadastro de Homologa√ß√£o</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="sistema">Sistema</label>
                                <select id="sistema" required>
                                    <option value="">Selecione o sistema</option>
                                    <option value="Sing">Sing</option>
                                    <option value="Telemetria">Telemetria</option>
                                    <option value="Etrip">Etrip</option>
                                    <option value="OPT+z">OPT+z</option>
                                    <option value="Portal">Portal</option>
                                    <option value="Outro">Outro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="versao">Vers√£o</label>
                                <input type="text" id="versao" placeholder="Ex: 1.0.0" required />
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="especialista">Especialista</label>
                                <input type="text" id="especialista" placeholder="Nome do especialista" required />
                            </div>
                            <div class="form-group">
                                <label for="dataLiberacao">Data de Libera√ß√£o</label>
                                <input type="date" id="dataLiberacao" required />
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="dataHomologacao">Data de Homologa√ß√£o (opcional)</label>
                                <input type="date" id="dataHomologacao" />
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="observacao">Observa√ß√£o</label>
                                <textarea id="observacao" rows="3" placeholder="Observa√ß√µes adicionais"></textarea>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="fileInputHomologacao">üìé Adicionar Documentos (opcional)</label>
                                <div id="uploadAreaHomologacao" class="upload-area" style="border: 2px dashed #ccc; padding: 20px; border-radius: 8px; text-align: center; cursor: pointer; background-color: #f9f9f9;">
                                    <p style="margin: 0; color: #666;">Arraste arquivos aqui ou clique para selecionar</p>
                                    <input type="file" id="fileInputHomologacao" multiple style="display: none;" accept=".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png" />
                                </div>
                                <div id="fileListHomologacao" style="margin-top: 10px;"></div>
                            </div>
                        </div>
                        <div class="form-row" style="justify-content: flex-end; gap: 10px;">
                            <button type="button" class="btn btn-secondary" onclick="closeNewHomologacaoModal()">Cancelar</button>
                            <button type="submit" class="btn btn-primary">üíæ Salvar Homologa√ß√£o</button>
                        </div>
                    </form>
                </div>
        </div>
        <div class="content-section" id="release">

            <!-- Se√ß√£o de Filtros -->
            <div
                   style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.207);">
                <h4 style="color: #48545a; margin-bottom: 20px; margin-top: 0; font-size: 1.3em;">
                    <i class="fas fa-filter" style="margin-right: 10px;"></i>Filtros
                </h4>
                <div class="form-row" style="align-items: flex-end; gap: 15px;">
                    <div class="form-group">
                        <label for="filtroSistema">Sistema</label>
                        <input id="filtroSistema" type="text" placeholder="Filtrar por sistema..." />
                    </div>
                    <div class="form-group">
                        <label for="filtroTipo">Tipo</label>
                        <select id="filtroTipo" onchange="filtrarReleases()">
                            <option value="">Todos</option>
                            <option value="bug">Bug</option>
                            <option value="melhoria">Melhoria</option>
                            <option value="nova funcionalidade">Nova Funcionalidade</option>
                            <option value="outro">Outro</option>
                        </select>
                    </div>
                    <div class="form-group" style="display: flex; gap: 10px;">
                        <button class="btn-secondary" onclick="limparFiltrosReleases()" style="flex: 1;">Limpar</button>
                        <button class="btn-primary" onclick="openNewReleaseModal()" style="flex: 0 0 50px; padding: 8px; font-size: 1.2em; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Modal para Nova Release -->
            <div class="modal-overlay" id="newReleaseModal" style="display: none;">
                <div class="modal-content" id="newReleaseModalContent" style="max-width: 900px; width: 95%;">
                    <span class="close" onclick="closeNewReleaseModal()">&times;</span>
                    <h3 style="margin-bottom: 20px;">
                        <i class="fas fa-rocket" style="margin-right: 10px;"></i>Nova Release
                    </h3>
                    <form id="newReleaseForm" style="display: block;">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newReleaseDate">Data de Libera√ß√£o</label>
                                <input class="input-padrao" id="newReleaseDate" placeholder="Selecione a data" type="date" required />
                            </div>
                            <div class="form-group">
                                <label for="newReleaseStatus">Status</label>
                                <input id="newReleaseStatus" type="text" placeholder="Ex: Planejada, Em desenvolvimento, Pronta..." required />
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newReleaseSystem">Sistema</label>
                                <input id="newReleaseSystem" type="text" placeholder="Nome do sistema" required />
                            </div>
                            <div class="form-group">
                                <label for="newReleaseVersion">Vers√£o</label>
                                <input id="newReleaseVersion" type="text" placeholder="Ex: 1.0.0" required />
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newReleaseAnalyst">Analista</label>
                                <input id="newReleaseAnalyst" type="text" placeholder="Nome do analista" required />
                            </div>
                            <div class="form-group">
                                <label for="newReleaseHomologDate">Data de Homologa√ß√£o</label>
                                <input class="input-padrao" id="newReleaseHomologDate" placeholder="Selecione a data" type="date" />
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="newReleaseClient">Cliente</label>
                                <select id="newReleaseClient" onchange="carregarTicketsCliente()">
                                    <option value="">Selecione um cliente...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="newReleaseType">Tipo</label>
                                <select id="newReleaseType" required>
                                    <option value="">Selecione o tipo</option>
                                    <option value="bug">Bug</option>
                                    <option value="melhoria">Melhoria</option>
                                    <option value="nova funcionalidade">Nova Funcionalidade</option>
                                    <option value="outro">Outro</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group" id="ticketsSection" style="color:#2c3e50;">
                            <label for="releaseTickets">üé´ Tickets Relacionados</label>

                            <!-- Lista de tickets dispon√≠veis para sele√ß√£o -->
                            <div id="ticketsDisponiveis"
                                style="max-height: 300px; overflow-y: auto; border: 1px solid #dee2e6; border-radius: 4px; background: white; padding: 10px; margin-bottom: 20px;">
                                <div style="text-align: center; color: #6c757d; padding: 20px;">
                                    <i class="fas fa-spinner fa-spin"></i> Carregando tickets...
                                </div>
                            </div>

                            <!-- Se√ß√£o de tickets selecionados com drag-and-drop -->
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; margin-bottom: 10px; font-weight: bold; color: #28a745;">Tickets
                                    Selecionados:</label>

                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; min-height: 200px;">
                                    <!-- Zona de Bug -->
                                    <div id="bugZone" class="drop-zone"
                                        style="border: 2px dashed #dc3545; border-radius: 8px; padding: 15px; background: #f8d7da; min-height: 180px;"
                                        ondrop="dropTicket(event, 'bug')" ondragover="allowDrop(event)"
                                        ondragenter="dragEnter(event)" ondragleave="dragLeave(event)">
                                        <h4 style="margin: 0 0 10px 0; color: #721c24; text-align: center;">
                                            Bug
                                        </h4>
                                        <div id="bugTickets" class="ticket-container">
                                            <div
                                                style="text-align: center; color: #721c24; font-style: italic; margin-top: 50px;">
                                                Arraste tickets aqui para classificar como Bug
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Zona de Melhoria -->
                                    <div id="melhoriaZone" class="drop-zone"
                                        style="border: 2px dashed #28a745; border-radius: 8px; padding: 15px; background: #d4edda; min-height: 180px;"
                                        ondrop="dropTicket(event, 'melhoria')" ondragover="allowDrop(event)"
                                        ondragenter="dragEnter(event)" ondragleave="dragLeave(event)">
                                        <h4 style="margin: 0 0 10px 0; color: #155724; text-align: center;">
                                            Melhoria
                                        </h4>
                                        <div id="melhoriaTickets" class="ticket-container">
                                            <div
                                                style="text-align: center; color: #155724; font-style: italic; margin-top: 50px;">
                                                Arraste tickets aqui para classificar como Melhoria
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Contador de tickets -->
                                <div id="ticketCounter"
                                    style="margin-top: 10px; text-align: center; font-weight: bold; color: #495057;">
                                    0 tickets selecionados (0 bugs, 0 melhorias)
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>üìé Anexar Documento (opcional)</label>
                            <div class="upload-area" onclick="document.getElementById('newReleaseFile').click()">
                                <div class="upload-icon">üìÑ</div>
                                <p>Arraste e solte ou clique para selecionar um arquivo</p>
                                <input id="newReleaseFile" style="display: none;" type="file" />
                            </div>
                        </div>
                        <div class="form-row" style="justify-content: flex-end; gap: 10px; margin-top: 30px;">
                            <button type="button" class="btn btn-secondary" onclick="closeNewReleaseModal()">Cancelar</button>
                            <button type="submit" class="btn btn-primary">üíæ Salvar Release</button>
                        </div>
                    </form>
                </div>
            </div>
            <h3 style="margin-top: 20px;">Releases Salvos</h3>
            <div class="documents-grid" id="releaseList">
                <div class="empty-state">
                    <div class="empty-state-icon"></div>
                    <p>Nenhum release salvo</p>
                </div>
            </div>
        </div>
        <div class="content-section" id="reunioes">
            <h2>Reuni√µes</h2>
            <div class="form-row">
                <div class="form-group"><label for="reuniaoCliente">Cliente</label><select id="reuniaoCliente">
                        <option value="">Selecione um cliente...</option>
                    </select></div>
                <div class="form-group"><label for="reuniaoData">Data</label><input class="input-padrao"
                        id="reuniaoData" type="date" /></div>
                <div class="form-group"><label for="reuniaoHorario">Hor√°rio</label><input class="input-padrao"
                        id="reuniaoHorario" type="time" /></div>
            </div>
            <div class="form-row">
                <div class="form-group"><label for="reuniaoTipo">Tipo</label><input id="reuniaoTipo" type="text" />
                </div>
                <div class="form-group"><label for="reuniaoResponsavel">Respons√°vel pela Reuni√£o</label><select
                        id="reuniaoResponsavel">
                        <option value="">Selecione um respons√°vel...</option>
                    </select></div>
            </div>
            <div class="form-group"><label for="reuniaoParticipantes">Participantes</label><input
                    id="reuniaoParticipantes" type="text" /></div>
            <div class="form-group"><label for="reuniaoFile">üìé Anexar Ata (opcional)</label>
                <input class="input-padrao" id="reuniaoFile" type="file" />
            </div>
            <button class="btn-primary" onclick="salvarReuniao()">Salvar Reuni√£o</button>
            <h3 style="margin-top: 30px;">Filtros</h3>
            <div class="form-row">
                <div class="form-group"><label for="filtroReuniaoCliente">Filtrar por Cliente</label><select
                        id="filtroReuniaoCliente" onchange="carregarReunioes()">
                        <option value="">Todos os clientes</option>
                    </select></div>
                <div class="form-group"><label for="filtroReuniaoParticipante">Filtrar por Participante</label><select
                        id="filtroReuniaoParticipante" onchange="carregarReunioes()">
                        <option value="">Todos os participantes</option>
                    </select></div>
                <div class="form-group">
                    <label for="filtroReuniaoDataInicio">Data in√≠cio</label>
                    <input type="date" id="filtroReuniaoDataInicio" onchange="carregarReunioes()" />
                </div>
                <div class="form-group">
                    <label for="filtroReuniaoDataFim">Data fim</label>
                    <input type="date" id="filtroReuniaoDataFim" onchange="carregarReunioes()" />
                </div>
            </div>
            <div class="documents-grid" id="listaReunioes" style="margin-top: 20px;"></div>
            <div id="totalReunioesFiltradas" style="margin-top: 16px; font-weight: bold; font-size: 1.1em;"></div>

            <!-- Modal para visualizar reuni√µes por cliente -->
            <div class="modal-overlay" id="reunioesModal" style="display: none;">
                <div class="modal-content" style="max-width: 900px; width: 95%;">
                    <span class="close" onclick="closeReunioesModal()">&times;</span>
                    <div id="reunioesModalHeader" class="reunioes-modal-header" style="display:flex; justify-content: space-between; align-items:center;">
                        <div style="display:flex; align-items:center; gap:12px;">
                            <div class="reunioes-modal-icon" style="width:44px; height:44px; border-radius:8px; background:#e8f5ff; display:flex; align-items:center; justify-content:center; color:#1976d2; font-size:20px;">üè¢</div>
                            <div>
                                <h3 id="reunioesModalTitle" class="reunioes-modal-title" style="margin:0;">Cliente</h3>
                                <div id="reunioesModalSubtitle" class="reunioes-modal-subtitle" style="color:#666; font-size:0.9em;">0 reuni√µes</div>
                            </div>
                        </div>
                        <button class="btn-primary reunioes-modal-new-btn" id="reunioesModalNewBtn" onclick="abrirNovaReuniaoDoModal()">Ôºã Nova reuni√£o</button>
                    </div>
                    <div style="margin-top:18px; max-height:60vh; overflow-y:auto;" id="reunioesModalList">
                        <!-- Reuni√µes ser√£o inseridas aqui -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Aba BI por Time - Conte√∫do Integrado -->
        <div class="content-section" id="bi-por-time">
            <div id="bi-time-container" style="width: 100%;"></div>
        </div>

        <!-- Se√ß√£o: Painel do Setor -->
        <div class="content-section" id="painel-setor">
            <!-- Layout Principal -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px;">

                <!--  Esquerda: Tarefas -->
                <div
                     style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.207);">
                    <h3 style="color: #000000; margin-bottom: 20px; font-size: 1.5em; text-align: center;">
                        <i class="fas fa-tasks" style="margin-right: 10px;"></i>TAREFAS
                    </h3>

                    <!-- Tarefas -->
                    <div id="tarefasGrid"
                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px;"></div>

                    <!-- Bot√£o para adicionar tarefa -->
                    <button class="btn-primary" onclick="showAddTaskModal()" style="width: 100%; margin-top: 15px;">
                        <i class="fas fa-plus" style="margin-right: 8px;"></i>Adicionar Tarefa
                    </button>
                </div>

                <!-- Coluna Direita: Time -->
                <div
                    style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.207);">
                    <h3 style="color: #000000; margin-bottom: 20px; font-size: 1.5em; text-align: center;">
                        <i class="fas fa-users" style="margin-right: 10px;"></i>TIME
                    </h3>

                    <!-- Lista do Time -->
                    <div id="timeList" style="max-height: 400px; overflow-y: auto;">

                    </div>

                    <!-- Bot√£o para adicionar membro -->
                    <button class="btn-primary" onclick="showAddTeamMemberModal()"
                        style="width: 100%; margin-top: 15px;">
                        <i class="fas fa-user-plus" style="margin-right: 8px;"></i>Adicionar Membro
                    </button>
                    </div>
                </div>

                <!-- Projetos em Andamento + Visitas (lado a lado) -->
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px; margin-bottom: 30px;">

                <!-- Projetos (coluna esquerda maior) -->
                <div
                     style="background: rgba(255, 255, 255, 0.95); border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.207);">
                    <h3 style="color: #000000; margin-bottom: 20px; font-size: 1.5em; text-align: center;">
                        <i class="fas fa-project-diagram" style="margin-right: 10px;"></i>PROJETOS EM ANDAMENTO
                    </h3>

                    <!-- Tabela de Projetos -->
                    <div style="overflow-x: auto;">
                        <table
                            style="width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <thead style="background: hsl(215, 35%, 18% , 1); color: white;">
                                <tr>
                                    <th style="padding: 15px; text-align: left; font-weight: bold;">Projeto</th>
                                    <th style="padding: 15px; text-align: left; font-weight: bold;">Empresa</th>
                                    <th style="padding: 15px; text-align: left; font-weight: bold;">Especialista</th>
                                    <th style="padding: 15px; text-align: center; font-weight: bold;">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="projetosTableBody">
                                <!-- Os dados dos projetos devem incluir os campos de In√≠cio e T√©rmino -->
                            </tbody>
                        </table>
                    </div>

                    <!--  adicionar projeto -->
                    <button class="btn-primary" onclick="showAddProjectModal()" style="margin-top: 15px;">
                        <i class="fas fa-plus" style="margin-right: 8px;"></i>Adicionar Projeto
                    </button>
                </div>

                <!-- Visitas (coluna direita) -->
                <div
                    style="width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #000000; margin-bottom: 12px; font-size: 1.2em; text-align: center;">
                        <i class="fas fa-map-marker-alt" style="margin-right: 8px;"></i>VISITAS
                    </h3>

                    <!-- Mapa -->
                    <div id="mapContainer" style="height: 220px; border-radius: 10px; margin-bottom: 14px; z-index: 1;"></div>

                    <!-- Lista de Visitas -->
                    <div id="visitasList" style="max-height: 220px; overflow-y: auto; margin-bottom: 12px;">
                        <div style="text-align: center; padding: 18px; color: #666;">
                            <i class="fas fa-spinner fa-spin" style="font-size: 1.2em; margin-bottom: 10px;"></i>
                            <p>Carregando visitas...</p>
                        </div>
                    </div>

                    <!-- Contador de visitas -->
                    <div style="text-align: center; margin-bottom: 12px;">
                        <span style="font-size: 1.05em; font-weight: bold; color: #4fc3f7;">
                            <i class="fas fa-map-marker-alt" style="margin-right: 6px;"></i>
                            <span id="visitasCount">00</span> Visitas
                        </span>
                    </div>

                    <!-- Bot√£o para atualizar visitas -->
                    <button class="btn-primary" onclick="atualizarSecaoVisitas()" style="width: 100%;">
                        <i class="fas fa-sync-alt" style="margin-right: 8px;"></i>Atualizar Visitas
                    </button>
                </div>
            </div>

            <!-- Entregas (abaixo, ocupando √°rea maior) -->
            <div style="width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <h3 style="color: #000000; margin-bottom: 20px; font-size: 1.5em; text-align: center;">
                    <i class="fas fa-calendar" style="margin-right: 10px;"></i>ENTREGAS
                </h3>

                <!-- Tabela de Entregas por M√™s (ocupando largura completa abaixo) -->
                <div style="background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="background: hsl(215, 35%, 18% , 1); color: white; padding: 15px; text-align: center; font-weight: bold;">
                        SLA Por M√™s
                    </div>

                    <table style="width: 100%; border-collapse: collapse;">
                        <thead style="background: #e3f2fd;" id="entregasTableHeader">
                            <!-- Cabe√ßalhos ser√£o gerados dinamicamente -->
                        </thead>
                        <tbody id="entregasTableBody"></tbody>
                    </table>
                </div>

                <!-- Bot√£o para adicionar entrega -->
                <button class="btn-primary" onclick="showAddEntregaModal()" style="width: 100%; margin-top: 15px;">
                    <i class="fas fa-plus" style="margin-right: 8px;"></i>Adicionar Entrega
                </button>
            </div>

            <!-- Rodap√© com Tags -->
            <div
                style="text-align: center; margin-top: 30px; padding: 20px; background:hsl(215, 35%, 18% , 1); border-radius: 15px; color: white;">
                <div
                    style="display: flex; justify-content: center; align-items: center; gap: 30px; font-size: 1.2em; font-weight: bold;">
                    <span><i class="fas fa-shield-alt" style="margin-right: 8px;"></i>+ seguran√ßa</span>
                    <span><i class="fas fa-chart-line" style="margin-right: 8px;"></i>+ efici√™ncia</span>
                    <span><i class="fas fa-coins" style="margin-right: 8px;"></i>+ economia</span>
                </div>
            </div>
        </div>
        
        <!-- Se√ß√£o de Telemetria -->
        <div class="content-section" id="telemetria">
            <div class="tab-content active" id="telemetriaContent">
                <div style="width:100%;">
                    <!-- Iframe responsivo exibindo relat√≥rio Power BI Telemetria -->
                    <div style="position:relative;padding-top:56.25%; /* 16:9 */">
                        <iframe title="Power BI Telemetria"
                            src="https://app.powerbi.com/view?r=eyJrIjoiYjgzMDMxYWYtZDU2Ni00ZWFkLTk5NTgtZWM5ZDdlY2U2MGRhIiwidCI6IjFiNzUzM2EyLWM0MGMtNDA5OS1iNDBjLWU0MzM4OWIxMGU1ZCJ9"
                            style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;"
                            allowFullScreen="true" frameborder="0" scrolling="no"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Nova Se√ß√£o: Gerenciar Logins -->
    <div class="content-section" id="gerenciar-logins">
        <div
            style="background: linear-gradient(135deg, #4fc3f7 0%, #29b6f6 100%); padding: 30px; border-radius: 15px; margin-bottom: 30px; text-align: center; color: #333333; box-shadow: 0 8px 25px rgba(41, 182, 246, 0.3);">
            <h2 style="margin: 0; font-size: 2.5em; margin-bottom: 10px;">
                <i class="fas fa-user-shield" style="margin-right: 15px;"></i>
                Gerenciar Logins
            </h2>
            <p style="margin: 0; font-size: 1.2em; opacity: 0.9;">
                Gerencie usu√°rios e permiss√µes do sistema
            </p>
        </div>

        <!-- Formul√°rio para Adicionar Usu√°rio -->
        <div class="form-container">
            <h3 style="margin-bottom: 20px; color: #333333;">Adicionar ou Editar Usu√°rio</h3>
            <div class="form-row">
                <div class="form-group">
                    <label for="usuarioNome">Nome Completo</label>
                    <input type="text" id="usuarioNome" placeholder="Digite o nome completo do usu√°rio">
                </div>
                <div class="form-group">
                    <label for="usuarioEmail">Email</label>
                    <input type="email" id="usuarioEmail" placeholder="Digite o email do usu√°rio">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="usuarioSenha">Senha</label>
                    <input type="password" id="usuarioSenha" placeholder="Digite a senha">
                </div>
                <div class="form-group">
                    <label for="usuarioConfirmarSenha">Confirmar Senha</label>
                    <input type="password" id="usuarioConfirmarSenha" placeholder="Confirme a senha">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="usuarioSetor">Setor</label>
                    <select id="usuarioSetor">
                        <option value="">Selecione o setor</option>
                        <option value="Time de implanta√ß√£o">Time de implanta√ß√£o</option>
                        <option value="CS">CS</option>
                        <option value="Suporte">Suporte</option>
                        <option value="Tecnico">T√©cnico</option>
                        <option value="Dev">Dev</option>
                        <option value="Produto">Produto</option>
                        <option value="Comercial">Comercial</option>
                        <option value="Administrativo">Administrativo</option>
                        <option value="TI">TI</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <div class="permissions-container">
                    <div class="section-title">Permiss√µes</div>
                    <div class="permissions-grid">

                        <div class="permission-item checked">
                            <input type="checkbox" id="perm-inicio" value="inicio" checked>
                            <label for="perm-inicio">In√≠cio</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-painel-setor" value="painel-setor">
                            <label for="perm-painel-setor">Painel do Setor</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-dashboard" value="dashboard">
                            <label for="perm-dashboard">Dashboards</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-clients" value="clients">
                            <label for="perm-clients">Clientes</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-homologacao" value="homologacao">
                            <label for="perm-homologacao">Homologa√ß√£o</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-visitas"
                                value="https://tryvia.github.io/TryviaBI/mapa_visitas.html">
                            <label for="perm-visitas">Visitas</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-calendario"
                                value="https://tryvia.github.io/TryviaBI/calendario.html">
                            <label for="perm-calendario">Calend√°rio</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-mvp"
                                value="https://tryvia.github.io/TryviaBI/linha%20do%20tempo.html">
                            <label for="perm-mvp">MVP</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-implantacao" value="implanta%C3%A7%C3%A3o.html">
                            <label for="perm-implantacao">Implanta√ß√µes</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-release" value="release">
                            <label for="perm-release">Release</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-treinamento" value="treinamento">
                            <label for="perm-treinamento">Treinamento</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-reunioes" value="reunioes">
                            <label for="perm-reunioes">Reuni√µes</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-relatorioVisita" value="relatorioVisita">
                            <label for="perm-relatorioVisita">Relat√≥rio de Visita</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-documents" value="documents">
                            <label for="perm-documents">Documentos</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-evaluations" value="evaluations">
                            <label for="perm-evaluations">Avalia√ß√µes</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-gestao" value="gestao">
                            <label for="perm-gestao">Gest√£o</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-cs" value="cs">
                            <label for="perm-cs">cs</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-gerenciar-logins" value="gerenciar-logins">
                            <label for="perm-gerenciar-logins">Gerenciar Logins</label>
                        </div>
                    </div>

                    <!-- Fun√ß√µes da aba de clientes -->
                    <div class="subsection-title">Fun√ß√µes da aba de clientes</div>

                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="perm-saveClient" value="saveClient">
                            <label for="perm-saveClient">Salvar Cliente</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-editClient" value="editClient">
                            <label for="perm-editClient">Editar Cliente</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-updateClient" value="updateClient">
                            <label for="perm-updateClient">Atualizar Cliente</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-deleteClient" value="deleteClient">
                            <label for="perm-deleteClient">Excluir Cliente</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-addClientDocument" value="addClientDocument">
                            <label for="perm-addClientDocument">Adicionar Documento do Cliente</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-deleteClientDocument" value="deleteClientDocument">
                            <label for="perm-deleteClientDocument">Excluir Documento do Cliente</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-addProduct" value="addProduct">
                            <label for="perm-addProduct">Adicionar Produto</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-removeProduct" value="removeProduct">
                            <label for="perm-removeProduct">Remover Produto</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-addEditProduct" value="addEditProduct">
                            <label for="perm-addEditProduct">Adicionar/Editar Produto</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-addIntegration" value="addIntegration">
                            <label for="perm-addIntegration">Adicionar Integra√ß√£o</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-addEditIntegration" value="addEditIntegration">
                            <label for="perm-addEditIntegration">Adicionar/Editar Integra√ß√£o</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-removeIntegration" value="removeIntegration">
                            <label for="perm-removeIntegration">Remover Integra√ß√£o</label>
                        </div>
                    </div>

                    <!-- Fun√ß√µes de Documentos -->
                    <div class="subsection-title">Fun√ß√µes de Documentos do time</div>

                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="perm-addDocument" value="addDocument">
                            <label for="perm-addDocument">Adicionar Documento do time</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-deleteDocument" value="deleteDocument">
                            <label for="perm-deleteDocument">Excluir Documento do time</label>
                        </div>
                    </div>

                    <!-- Fun√ß√µes de Homologa√ß√£o -->
                    <div class="subsection-title">Fun√ß√µes de Homologa√ß√£o</div>

                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="perm-submitHomologacao" value="submitHomologacao">
                            <label for="perm-submitHomologacao">Adicionar homologa√ß√£o</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-deleteHomologacao" value="deleteHomologacao">
                            <label for="perm-deleteHomologacao">Excluir Homologa√ß√£o</label>
                        </div>
                    </div>

                    <!-- Fun√ß√µes de Releases -->
                    <div class="subsection-title">Fun√ß√µes de Releases</div>

                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="perm-salvarRelease" value="salvarRelease">
                            <label for="perm-salvarRelease">Salvar Release</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-deleteRelease" value="deleteRelease">
                            <label for="perm-deleteRelease">Excluir Release</label>
                        </div>
                    </div>

                    <!-- Fun√ß√µes de Reuni√µes -->
                    <div class="subsection-title">Fun√ß√µes de Reuni√µes</div>

                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="perm-salvarReuniao" value="salvarReuniao">
                            <label for="perm-salvarReuniao">Salvar Reuni√£o</label>
                        </div>
                    </div>

                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="perm-excluirReuniao" value="excluirReuniao">
                            <label for="perm-excluirReuniao">Excluir Reuni√£o</label>
                        </div>
                    </div>

                    <!-- Fun√ß√µes de Treinamento -->
                    <div class="subsection-title">Fun√ß√µes de Treinamento</div>

                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="perm-showAddVideoModal" value="showAddVideoModal">
                            <label for="perm-showAddVideoModal">Adicionar Video</label>
                        </div>
                    </div>

                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="perm-showAddProductModal" value="showAddProductModal">
                            <label for="perm-showAddProductModal">Adicionar Produto</label>
                        </div>
                    </div>

                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="perm-deleteTrainingVideo" value="deleteTrainingVideo">
                            <label for="perm-deleteTrainingVideo">Excluir Video</label>
                        </div>
                    </div>

                    <!-- Fun√ß√µes de Painel do Setor -->
                    <div class="subsection-title">Fun√ß√µes de Painel do Setor</div>

                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="perm-alterarQuantidade" value="alterarQuantidade">
                            <label for="perm-alterarQuantidade">Alterar Quantidade nas tarefas</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-saveTasks" value="saveTasks">
                            <label for="perm-saveTasks">Salvar Tarefas</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-abrirModalTarefa" value="abrirModalTarefa">
                            <label for="perm-abrirModalTarefa">Adicionar Tarefa</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-abrirModalMembro" value="abrirModalMembro">
                            <label for="perm-abrirModalMembro">Adicionar Membro do Time</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-abrirModalProjeto" value="abrirModalProjeto">
                            <label for="perm-abrirModalProjeto">Adicionar Projeto</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-abrirModalVisita" value="abrirModalVisita">
                            <label for="perm-abrirModalVisita">Adicionar Visita</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-abrirModalEntrega" value="abrirModalEntrega">
                            <label for="perm-abrirModalEntrega">Adicionar Entrega</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-saveTask" value="saveTask">
                            <label for="perm-saveTask">Salvar Tarefa</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-saveProject" value="saveProject">
                            <label for="perm-saveProject">Salvar Projeto</label>
                        </div>

                        <div class="permission-item">
                            <input type="checkbox" id="perm-excluirProjeto" value="excluirProjeto">
                            <label for="perm-excluirProjeto">Excluir Projeto</label>
                        </div>
                    </div>
                </div>
            </div>
            <button class="btn-primary" id="btnSalvarUsuario" onclick="adicionarUsuario()">
                <i class="fas fa-user-plus" style="margin-right: 8px;"></i>
                Adicionar Usu√°rio
            </button>
        </div>

        <!-- Formul√°rio para Criar Login de Cliente -->
        <div class="form-container" style="margin-top: 30px;">
            <h3 style="margin-bottom: 20px; color: #333333;">Criar Login para Cliente</h3>
            <div class="form-row">
                <div class="form-group">
                    <label for="clienteSelect">Cliente *</label>
                    <select id="clienteSelect" required>
                        <option value="">Selecione um cliente</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="clienteLoginEmail">Email do Login</label>
                    <input type="email" id="clienteLoginEmail" placeholder="Digite o email para o login do cliente">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="clienteLoginSenha">Senha</label>
                    <input type="password" id="clienteLoginSenha" placeholder="Digite a senha">
                </div>
                <div class="form-group">
                    <label for="clienteLoginConfirmarSenha">Confirmar Senha</label>
                    <input type="password" id="clienteLoginConfirmarSenha" placeholder="Confirme a senha">
                </div>
            </div>
            <div class="client-permissions-container">
                <div class="client-section-title">Permiss√µes do Cliente</div>
                <div class="client-permissions-grid">
                    <!-- Permiss√µes B√°sicas do Cliente -->
                    <div class="client-permission-item checked">
                        <input type="checkbox" id="cliente-perm-inicio-cliente" value="inicio-cliente" checked>
                        <label for="cliente-perm-inicio-cliente">In√≠cio</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-dashboard" value="dashboard">
                        <label for="cliente-perm-dashboard">Dashboards</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-mvp"
                            value="https://tryvia.github.io/TryviaBI/linha%20do%20tempo.html">
                        <label for="cliente-perm-mvp">MVP</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-implantacao" value="implanta%C3%A7%C3%A3o.html">
                        <label for="cliente-perm-implantacao">Implanta√ß√µes</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-clients" value="clients">
                        <label for="cliente-perm-clients">Clientes</label>
                    </div>
                </div>

                <!-- Fun√ß√µes da aba de clientes -->
                <div class="client-subsection-title">Fun√ß√µes da aba de clientes</div>

                <div class="client-permissions-grid">
                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-saveClient" value="saveClient">
                        <label for="cliente-perm-saveClient">Salvar Cliente</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-editClient" value="editClient">
                        <label for="cliente-perm-editClient">Editar Cliente</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-updateClient" value="updateClient">
                        <label for="cliente-perm-updateClient">Atualizar Cliente</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-deleteClient" value="deleteClient">
                        <label for="cliente-perm-deleteClient">Excluir Cliente</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-addClientDocument" value="addClientDocument">
                        <label for="cliente-perm-addClientDocument">Adicionar Documento do Cliente</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-deleteClientDocument" value="deleteClientDocument">
                        <label for="cliente-perm-deleteClientDocument">Excluir Documento do Cliente</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-addProduct" value="addProduct">
                        <label for="cliente-perm-addProduct">Adicionar Produto</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-removeProduct" value="removeProduct">
                        <label for="cliente-perm-removeProduct">Remover Produto</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-addEditProduct" value="addEditProduct">
                        <label for="cliente-perm-addEditProduct">Adicionar/Editar Produto</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-addIntegration" value="addIntegration">
                        <label for="cliente-perm-addIntegration">Adicionar Integra√ß√£o</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-addEditIntegration" value="addEditIntegration">
                        <label for="cliente-perm-addEditIntegration">Adicionar/Editar Integra√ß√£o</label>
                    </div>

                    <div class="client-permission-item">
                        <input type="checkbox" id="cliente-perm-removeIntegration" value="removeIntegration">
                        <label for="cliente-perm-removeIntegration">Remover Integra√ß√£o</label>
                    </div>
                </div>
            </div>
            <button class="btn-primary" onclick="criarLoginCliente()">
                <i class="fas fa-user-plus" style="margin-right: 8px;"></i>
                Criar Login de Cliente
            </button>
        </div>

        <!-- Lista de Usu√°rios -->
        <div
            style="background-color: rgba(179, 229, 252, 0.95); border-radius: 15px; padding: 25px; box-shadow: 0 4px 15px rgba(41, 182, 246, 0.3);">
            <h3 style="color: #333333; margin-bottom: 20px; font-size: 1.5em;">
                <i class="fas fa-users" style="margin-right: 10px;"></i>
                Usu√°rios Cadastrados
            </h3>

            <!-- Filtros -->
            <div style="background: white; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                <div class="form-row">
                    <div class="form-group">
                        <label for="filtroNomeUsuario">Filtrar por Nome</label>
                        <input type="text" id="filtroNomeUsuario" placeholder="Digite o nome..."
                            oninput="filtrarUsuarios()">
                    </div>
                    <div class="form-group">
                        <label for="filtroEmailUsuario">Filtrar por Email</label>
                        <input type="text" id="filtroEmailUsuario" placeholder="Digite o email..."
                            oninput="filtrarUsuarios()">
                    </div>
                    <div class="form-group" style="display: flex; align-items: flex-end;">
                        <button class="btn-secondary" onclick="limparFiltrosUsuarios()">Limpar Filtros</button>
                    </div>
                </div>
            </div>

            <!-- Tabela de Usu√°rios -->
            <div style="overflow-x: auto;">
                <table
                    style="width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <thead style="background: #4fc3f7; color: white;">
                        <tr>
                            <th style="padding: 15px; text-align: left; font-weight: bold;">Nome</th>
                            <th style="padding: 15px; text-align: left; font-weight: bold;">Email</th>
                            <th style="padding: 15px; text-align: left; font-weight: bold;">Setor</th>
                            <th style="padding: 15px; text-align: center; font-weight: bold;">Permiss√µes</th>
                            <th style="padding: 15px; text-align: center; font-weight: bold;">A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="usuariosTableBody">
                        <tr>
                            <td colspan="5" style="text-align: center; padding: 20px; color: #666;">
                                <i class="fas fa-spinner fa-spin" style="margin-right: 8px;"></i>
                                Carregando usu√°rios...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>



    <!-- In√≠cio do Relat√≥rio de Visita -->
    <!-- Bot√£o na barra lateral -->
    <li class="nav-item">
    </li>
    <!--  Se√ß√£o: Relat√≥rio de Visita -->
    <div class="content-section" id="relatorioVisita">
        <div class="form-container">
            <h3 style="margin-bottom: 20px; color: var(--accent-color);">Relat√≥rio de Visita</h3>
            <div class="form-row">
                <div class="form-group">
                    <label>Cliente</label>
                    <select id="rvEmpresa">
                        <option value="">Selecione um cliente...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Data</label>
                    <input class="input-padrao" id="rvData" type="date" readonly />
                </div>
                <div class="form-group">
                    <label>Gestor</label>
                    <input id="rvGestor" type="text" />
                </div>
                <div class="form-group">
                    <label>Analista Respons√°vel</label>
                    <select id="rvAnalista">
                        <option value="Julyana">Julyana</option>
                        <option value="Marlos">Marlos</option>
                        <option value="Renata">Renata</option>
                        <option value="Larissa">Larissa</option>
                        <option value="AdrielCS">Adriel CS</option>
                        <option value="GabrielCS">Gabriel CS</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label>Servi√ßos Contratados</label>
                <textarea id="rvServicos" rows="2"></textarea>
            </div>
            <div class="form-group">
                <label>Resumo da Visita</label>
                <textarea id="rvResumo" rows="4"></textarea>
            </div>
            <div class="form-group">
                <label>Chamados Urgentes</label>
                <textarea id="rvChamados" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>Local</label>
                <input id="rvLocal" type="text" />
            </div>
            <div class="form-group">
                <div style="margin-bottom: 1rem;">
                    <label>Sem Report:</label>
                    <input id="inputSemReport" min="0" style="width: 80px; margin-right: 1rem;" type="number"
                        value="0" />
                    <label>Reportando:</label>
                    <input id="inputReportando" min="0" style="width: 80px; margin-right: 1rem;" type="number"
                        value="0" />
                    <label>Manuten√ß√£o:</label>
                    <input id="inputManutencao" min="0" style="width: 80px;" type="number" value="0" />
                    <button onclick="atualizarGraficoStatus()" style="margin-left: 1rem;">Atualizar Gr√°fico</button>
                </div>
                <label>Report de Ve√≠culos</label>
                <canvas id="chartVeiculos"></canvas>
            </div>
            <button class="btn-secondary" onclick="gerarPDFVisita()">Gerar PDF</button>
            <button class="btn-primary" onclick="enviarPorEmail()" style="margin-left: 10px;">Enviar por Email</button>
            <button class="btn-primary" onclick="enviarPorWhatsapp()" style="margin-left: 10px;">Enviar por
                WhatsApp</button>
        </div>
    </div>


    <!-- Modal de Tickets -->
    <div id="ticketsModal" class="tickets-modal">
        <div class="tickets-modal-content">
            <div class="tickets-modal-header">
                <h2 id="ticketsModalTitle">Tickets do Cliente</h2>
                <span class="tickets-modal-close" onclick="closeTicketsModal()">&times;</span>
            </div>
            <div id="ticketsModalContent">
                <div class="loading-tickets">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Carregando tickets...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Integra√ß√µes Ativas -->
    <div id="integracoesModal" class="tickets-modal">
        <div class="tickets-modal-content">
            <div class="tickets-modal-header">
                <h2 id="integracoesModalTitle">Integra√ß√µes</h2>
                <span class="tickets-modal-close" onclick="closeIntegracoesModal()">&times;</span>
            </div>
            <div id="integracoesModalContent">
                <div class="loading-tickets">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Carregando integra√ß√µes...</p>
                </div>
            </div>
        </div>
    </div>



    <!-- Chat Widget -->
    <!-- Bot√£o para mostrar/esconder o chat -->
    <div id="chat-toggle-button"
        style="position: fixed; top: 20px; right: 20px; width: 50px; height: 50px; background-color: #0288d1; color: white; border: none; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); z-index: 1001;">
        üí¨
    </div>

    <div id="chat-container"
        style="position: fixed; top: 20px; right: 20px; width: 300px; height: 400px; background-color: #fff; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); display: none; flex-direction: column; z-index: 1000; transition: all 0.3s ease;">
        <div id="chat-header"
            style="background-color: #0288d1; color: white; padding: 10px; border-top-left-radius: 10px; border-top-right-radius: 10px; font-weight: bold; display: flex; justify-content: space-between; align-items: center;">
            <span>Assistente do Portal</span>
            <button id="chat-close-button"
                style="background: none; border: none; color: white; font-size: 18px; cursor: pointer; padding: 0; width: 20px; height: 20px;">√ó</button>
        </div>
        <div id="chat-messages" style="flex-grow: 1; padding: 10px; overflow-y: auto; border-bottom: 1px solid #eee;">
        </div>
        <div id="chat-input-container" style="padding: 10px; display: flex;">
            <input type="text" id="chat-input" placeholder="Digite sua mensagem..."
                style="flex-grow: 1; padding: 8px; border: 1px solid #ddd; border-radius: 5px; margin-right: 10px;">
            <button id="chat-send-button"
                style="background-color: #0288d1; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;">Enviar</button>
        </div>
    </div>



    <!-- Modais para Painel do Setor -->
    <!-- Modal para Adicionar Tarefa -->
    <div id="addTaskModal" class="modal-overlay">
        <div class="modal-content" style="max-width: 500px;">
            <h3>Adicionar Nova Tarefa</h3>
            <div class="form-group">
                <label for="taskType">Tipo</label>
                <input type="text" id="taskType" placeholder="Digite o tipo da tarefa" required>
            </div>
            <div class="form-group">
                <label for="taskTitle">Tarefa</label>
                <input type="text" id="taskTitle" placeholder="Descreva a tarefa" required>
            </div>
            <div class="form-group">
                <label for="taskDescription">Descri√ß√£o</label>
                <textarea id="taskDescription" placeholder="Descreva a tarefa"></textarea>
            </div>
            <div class="form-group">
                <label for="taskResponsible">Respons√°vel</label>
                <input type="text" id="taskResponsible" placeholder="Nome do respons√°vel">
            </div>
            <div class="form-group">
                <label for="taskDeadline">Prazo</label>
                <input type="date" id="taskDeadline">
            </div>
            <div class="modal-buttons">
                <button class="modal-button cancel" onclick="closeModal('addTaskModal')">Cancelar</button>
                <button class="modal-button confirm" onclick="saveTask()">Salvar</button>
            </div>
        </div>
    </div>

    <!--  Adicionar Membro do Time -->
    <div id="addTeamMemberModal" class="modal-overlay">
        <div class="modal-content" style="max-width: 500px;">
            <h3>Adicionar Membro do Time</h3>
            <div class="form-group">
                <label for="memberName">Nome</label>
                <input type="text" id="memberName" placeholder="Nome completo">
            </div>
            <div class="form-group">
                <label for="memberRole">Cargo</label>
                <select id="memberRole">
                    <option value="Gerente">Gerente</option>
                    <option value="Especialista">Especialista</option>
                    <option value="Analista">Analista</option>
                    <option value="Desenvolvedor">Desenvolvedor</option>
                    <option value="Consultor">Consultor</option>
                </select>
            </div>
            <div class="form-group">
                <label for="memberEmail">Email</label>
                <input type="email" id="memberEmail" placeholder="email@exemplo.com">
            </div>
            <div class="form-group">
                <label for="memberPhoto">Foto</label>
                <input type="file" id="memberPhoto" accept="image/*">
            </div>
            <div class="modal-buttons">
                <button class="modal-button cancel" onclick="closeModal('addTeamMemberModal')">Cancelar</button>
                <button class="modal-button confirm" onclick="saveTeamMember()">Salvar</button>
            </div>
        </div>
    </div>

    <!--  Adicionar Projeto -->
    <div id="addProjectModal" class="modal-overlay">
        <div class="modal-content" style="max-width: 600px;">
            <h3>Adicionar Novo Projeto</h3>
            <div class="form-group">
                <label for="projectName">Nome do Projeto</label>
                <input type="text" id="projectName" placeholder="Nome do projeto">
            </div>
            <div class="form-group">
                <label for="projectCompany">Empresa</label>
                <input type="text" id="projectCompany" placeholder="Nome da empresa">
            </div>
            <div class="form-group">
                <label for="projectSpecialist">Especialista Respons√°vel</label>
                <input type="text" id="projectSpecialist" placeholder="Nome do especialista">
            </div>
            <div class="form-group">
                <label for="projectDescription">Descri√ß√£o</label>
                <textarea id="projectDescription" placeholder="Descri√ß√£o do projeto"></textarea>
            </div>
            <div class="form-group">
                <label for="projectStatus">Status</label>
                <select id="projectStatus">
                    <option value="Planejamento">Planejamento</option>
                    <option value="Em Andamento">Em Andamento</option>
                    <option value="Homologa√ß√£o">Homologa√ß√£o</option>
                    <option value="Finalizado">Finalizado</option>
                </select>
            </div>
            <div class="modal-buttons">
                <button class="modal-button cancel" onclick="closeModal('addProjectModal')">Cancelar</button>
                <button class="modal-button confirm" onclick="saveProject()">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Adicionar Visita -->
    <div id="addVisitModal" class="modal-overlay">
        <div class="modal-content" style="max-width: 500px;">
            <h3>Adicionar Nova Visita</h3>
            <div class="form-group">
                <label for="visitCompany">Empresa</label>
                <input type="text" id="visitCompany" placeholder="Nome da empresa">
            </div>
            <div class="form-group">
                <label for="visitAddress">Endere√ßo</label>
                <input type="text" id="visitAddress" placeholder="Endere√ßo completo">
            </div>
            <div class="form-group">
                <label for="visitCity">Cidade</label>
                <input type="text" id="visitCity" placeholder="Cidade">
            </div>
            <div class="form-group">
                <label for="visitState">Estado</label>
                <input type="text" id="visitState" placeholder="Estado">
            </div>
            <div class="form-group">
                <label for="visitDate">Data da Visita</label>
                <input type="date" id="visitDate">
            </div>
            <div class="form-group">
                <label for="visitPurpose">Objetivo</label>
                <textarea id="visitPurpose" placeholder="Objetivo da visita"></textarea>
            </div>
            <div class="modal-buttons">
                <button class="modal-button cancel" onclick="closeModal('addVisitModal')">Cancelar</button>
                <button class="modal-button confirm" onclick="saveVisit()">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Adicionar Entrega -->
    <div id="addEntregaModal" class="modal-overlay">
        <div class="modal-content" style="max-width: 500px;">
            <h3>Adicionar Nova Entrega</h3>
            <div class="form-group">
                <label for="entregaMonth">M√™s</label>
                <select id="entregaMonth">
                    <option value="JAN">Janeiro</option>
                    <option value="FEV">Fevereiro</option>
                    <option value="MAR">Mar√ßo</option>
                    <option value="ABR">Abril</option>
                    <option value="MAI">Maio</option>
                    <option value="JUN">Junho</option>
                    <option value="JUL">Julho</option>
                    <option value="AGO">Agosto</option>
                    <option value="SET">Setembro</option>
                    <option value="OUT">Outubro</option>
                    <option value="NOV">Novembro</option>
                    <option value="DEZ">Dezembro</option>
                </select>
            </div>
            <div id="entregaFieldsContainer">
                <!-- Campos ser√£o gerados dinamicamente baseados nos membros da equipe -->
            </div>
            <div class="modal-buttons">
                <button class="modal-button cancel" onclick="closeModal('addEntregaModal')">Cancelar</button>
                <button class="modal-button confirm" onclick="saveEntrega()">Salvar</button>
            </div>
        </div>
    </div>


    <!-- Modal de Avalia√ß√£o -->
    <div id="evaluationModal" class="modal"
        style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);">
        <div class="modal-content"
            style="background-color: #fefefe; margin: 5% auto; padding: 20px; border: 1px solid #888; width: 90%; max-width: 500px; border-radius: 10px;">
            <div class="modal-header"
                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="margin: 0; color: #333;">Avaliar Visita</h2>
                <span class="close" onclick="closeEvaluationModal()"
                    style="color: #aaa; font-size: 28px; font-weight: bold; cursor: pointer;">&times;</span>
            </div>

            <div class="modal-body">
                <div style="margin-bottom: 15px;">
                    <strong>Documento:</strong> <span id="evalDocumentTitle"></span>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 10px; font-weight: bold;">Avalia√ß√£o:</label>
                    <div class="star-rating" style="font-size: 30px; color: #ddd; cursor: pointer;">
                        <span class="star" data-rating="1">‚òÖ</span>
                        <span class="star" data-rating="2">‚òÖ</span>
                        <span class="star" data-rating="3">‚òÖ</span>
                        <span class="star" data-rating="4">‚òÖ</span>
                        <span class="star" data-rating="5">‚òÖ</span>
                    </div>
                    <div id="ratingText" style="margin-top: 5px; font-size: 14px; color: #666;"></div>
                </div>

                <div style="margin-bottom: 20px;">
                    <label for="evaluationObservations"
                        style="display: block; margin-bottom: 5px; font-weight: bold;">Observa√ß√µes:</label>
                    <textarea id="evaluationObservations" rows="4"
                        style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; resize: vertical;"
                        placeholder="Descreva sua experi√™ncia com a visita..."></textarea>
                </div>

                <div style="text-align: right;">
                    <button onclick="closeEvaluationModal()"
                        style="background: #6c757d; color: white; border: none; padding: 10px 20px; border-radius: 5px; margin-right: 10px; cursor: pointer;">Cancelar</button>
                    <button onclick="submitEvaluation()"
                        style="background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Salvar
                        Avalia√ß√£o</button>
                </div>
            </div>
        </div>
    </div>



    <!-- Se√ß√£o de Avalia√ß√µes -->
    <div class="content-section" id="evaluations">
        <div class="form-container">
            <h3 style="margin-bottom: 20px; color: var(--accent-color);">
                <i class="fas fa-star" style="margin-right: 10px;"></i>
                Avalia√ß√µes de Visitas
            </h3>

            <!-- Filtros -->
            <div class="form-row"
                style="margin-bottom: 20px; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                <div class="form-group">
                    <label for="filterClient">Filtrar por Cliente:</label>
                    <select id="filterClient" onchange="filterEvaluations()">
                        <option value="">Todos os clientes</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="filterRating">Filtrar por Avalia√ß√£o:</label>
                    <select id="filterRating" onchange="filterEvaluations()">
                        <option value="">Todas as avalia√ß√µes</option>
                        <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Excelente</option>
                        <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Bom</option>
                        <option value="3">‚≠ê‚≠ê‚≠ê Regular</option>
                        <option value="2">‚≠ê‚≠ê Ruim</option>
                        <option value="1">‚≠ê Muito Ruim</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="searchEvaluations">Buscar:</label>
                    <input type="text" id="searchEvaluations" placeholder="Buscar por documento ou observa√ß√µes..."
                        onkeyup="filterEvaluations()">
                </div>
            </div>

            <!-- Estat√≠sticas -->
            <div class="stats-container"
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
                <div class="stat-card"
                    style="background: linear-gradient(135deg, #4fc3f7, #29b6f6); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <h4 style="margin: 0; font-size: 2em;" id="totalEvaluations">0</h4>
                    <p style="margin: 5px 0 0 0;">Total de Avalia√ß√µes</p>
                </div>
                <div class="stat-card"
                    style="background: linear-gradient(135deg, #66bb6a, #4caf50); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <h4 style="margin: 0; font-size: 2em;" id="averageRating">0.0</h4>
                    <p style="margin: 5px 0 0 0;">Avalia√ß√£o M√©dia</p>
                </div>
                <div class="stat-card"
                    style="background: linear-gradient(135deg, #ffa726, #ff9800); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <h4 style="margin: 0; font-size: 2em;" id="lastMonthEvaluations">0</h4>
                    <p style="margin: 5px 0 0 0;">√öltimo M√™s</p>
                </div>
            </div>

            <!-- Lista de Avalia√ß√µes -->
            <div id="evaluationsList">
                <div class="empty-state" style="text-align: center; padding: 40px; color: #666;">
                    <div style="font-size: 4em; margin-bottom: 20px;">‚≠ê</div>
                    <h3>Nenhuma avalia√ß√£o encontrada</h3>
                    <p>As avalia√ß√µes de visitas aparecer√£o aqui quando forem criadas.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o de Log de Auditoria -->
    <div class="content-section" id="audit-log">
        <div class="form-container">
            <h3 style="margin-bottom: 20px; color: var(--accent-color);">
                <i class="fas fa-history" style="margin-right: 10px;"></i>
                Log de Auditoria do Sistema
            </h3>
            
            <p style="color: #666; margin-bottom: 20px;">
                Visualize abaixo todas as opera√ß√µes de inser√ß√£o, altera√ß√£o e exclus√£o realizadas nas tabelas do portal.
            </p>

            <div id="auditLoading" style="display: none; text-align: center; padding: 20px;">
                <i class="fas fa-spinner fa-spin fa-2x" style="color: #4fc3f7;"></i>
                <p>Carregando registros...</p>
            </div>

            <!-- Filtros da Auditoria -->
            <div class="audit-filters" style="display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-bottom:12px;">
                <div><label>De: <input type="date" id="auditFilterStart"></label></div>
                <div><label>At√©: <input type="date" id="auditFilterEnd"></label></div>
                <div><label>Usu√°rio: <select id="auditFilterUser"><option value="">Todos</option></select></label></div>
                <div><label>Tabela: <select id="auditFilterTable"><option value="">Todas</option></select></label></div>
                <div><label>Buscar: <input type="text" id="auditFilterSearch" placeholder="Buscar..."></label></div>
                <div style="margin-left:auto;"><button class="btn-secondary" id="auditClearFilters">Limpar filtros</button></div>
            </div>

            <div class="audit-table-container">
                <table class="audit-table" style="width:100%;">
                    <thead>
                        <tr>
                            <th>Data/Hora</th>
                            <th>Tabela</th>
                            <th>Opera√ß√£o</th>
                            <th>Usu√°rio</th>
                            <th>ID Registro</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="auditLogList">
                        <!-- Preenchido via JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Pagina√ß√£o -->
            <div id="auditPagination" style="display:flex; justify-content:center; align-items:center; gap:10px; margin-top:12px;">
                <button id="auditPrevPage" class="btn-secondary">Anterior</button>
                <span id="auditPageInfo">P√°gina 1 de 1</span>
                <button id="auditNextPage" class="btn-secondary">Pr√≥xima</button>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o de CS (Customer Service) -->
   <div class="content-section" id="cs">
    <div class="form-container">
        <h3 style="margin-bottom: 20px; color:#0066ccbf;">
            <i class="fas fa-headset" style="margin-right: 10px;"></i>
            Customer Service (CS)
        </h3>
        
        <!-- Formul√°rio de Contato CS -->
        <div class="form-row" style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
            <div class="form-group" style="position: relative;">
                <label for="csClientName">Nome do Cliente:</label>
                <select id="csClientName" required>
                    <option value="">Selecione um cliente...</option>
                </select>
                <input type="hidden" id="csEditingId" value="">
            </div>
            <div class="form-group">
                <label for="csContactType">Tipo de Contato:</label>
                <select id="csContactType" required>
                    <option value="">Selecione o tipo de contato</option>
                    <option value="telefone">Telefone</option>
                    <option value="email">E-mail</option>
                    <option value="whatsapp">WhatsApp</option>
                    <option value="presencial">Presencial</option>
                    <option value="video-chamada">V√≠deo Chamada</option>
                </select>
            </div>
            <div class="form-group">
                <label for="csContactDate">Data do Contato:</label>
                <input type="date" id="csContactDate" required>
            </div>
            <div class="form-group" style="grid-column: 1 / -1;">
                <label for="csObservation">Observa√ß√µes:</label>
                <textarea id="csObservation" rows="4" placeholder="Digite as observa√ß√µes sobre o contato com o cliente..." required></textarea>
            </div>
            <div class="form-group" style="grid-column: 1 / -1; text-align: center; display:flex; justify-content:center; gap:10px; align-items:center;">
                <button id="csSaveButton" onclick="salvarContatoCS()" style="background: #0066ccbf; color: white; border: none; padding: 12px 26px; border-radius: 8px; font-size: 1.05em; cursor: pointer; transition: background 0.3s ease;">
                    <i class="fas fa-save" style="margin-right: 8px;"></i>
                    Salvar Contato
                </button>
                <button id="csCancelEditButton" onclick="cancelEditContato()" style="display:none; background:#6c757d; color:white; border:none; padding:12px 16px; border-radius:8px; cursor:pointer;">Cancelar</button>
            </div>
        </div>
        
        <!-- Filtros -->
        <div class="form-row" style="margin-bottom: 20px; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
            <div class="form-group">
                <label for="filterCSClient">Filtrar por Cliente:</label>
                <input type="text" id="filterCSClient" placeholder="Digite o nome do cliente..." onkeyup="filtrarContatosCS()">
            </div>
            <div class="form-group">
                <label for="filterCSContactType">Filtrar por Tipo:</label>
                <select id="filterCSContactType" onchange="filtrarContatosCS()">
                    <option value="">Todos os tipos</option>
                    <option value="telefone">Telefone</option>
                    <option value="email">E-mail</option>
                    <option value="whatsapp">WhatsApp</option>
                    <option value="presencial">Presencial</option>
                    <option value="video-chamada">V√≠deo Chamada</option>
                </select>
            </div>
            <div class="form-group">
                <label for="filterCSDate">Filtrar por Data:</label>
                <input type="date" id="filterCSDate" onchange="filtrarContatosCS()">
            </div>
            <div class="form-group">
                <label for="csSortOrder">Ordena√ß√£o por Data:</label>
                <select id="csSortOrder" onchange="filtrarContatosCS()">
                    <option value="desc">Decrescente (mais recente ‚Üí mais antiga)</option>
                    <option value="asc">Crescente (mais antiga ‚Üí mais recente)</option>
                </select>
            </div>
        </div>
        
        <!-- Estat√≠sticas -->
        <div class="stats-container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
            <div class="stat-card" style="background: linear-gradient(135deg, #0066ccbf, #0066ccbf); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                <h4 style="margin: 0; font-size: 2em;" id="totalContatos">0</h4>
                <p style="margin: 5px 0 0 0;">Total de Contatos</p>
            </div>
            <div class="stat-card" style="background: linear-gradient(135deg, #0066ccbf, #0066ccbf); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                <h4 style="margin: 0; font-size: 2em;" id="contatosHoje">0</h4>
                <p style="margin: 5px 0 0 0;">Contatos Hoje</p>
            </div>
            <div class="stat-card" style="background: linear-gradient(135deg, #0066ccbf, #0066ccbf); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                <h4 style="margin: 0; font-size: 2em;" id="contatosSemana">0</h4>
                <p style="margin: 5px 0 0 0;">Esta Semana</p>
            </div>
        </div>
        
        <!-- Lista de Contatos -->
        <div id="csContactsList">
            <div class="empty-state" style="text-align: center; padding: 40px; color: #000000;">
                <div style="font-size: 4em; margin-bottom: 20px;">üìû</div>
                <h3>Nenhum contato registrado</h3>
                <p>Os contatos com clientes aparecer√£o aqui quando forem registrados.</p>
            </div>
        </div>
    <!-- Controles de pagina√ß√£o -->
    <div id="csPagination" class="cs-pagination" style="margin-top:12px; text-align:center;"></div>
    </div>
</div>

<div class="content-section" id="metricascs" style="display:none;">
    <div class="form-container" style="padding:0; background:transparent; box-shadow:none;">
        <div style="display:flex; align-items:center; justify-content:space-between; padding:12px 18px;">
            <h3 style="margin:0;"></h3>
            <small style="color:#666;"></small>
        </div>
        <div id="metricascs-container" style="padding:0 18px 18px 18px;">
            <iframe id="metricascs-iframe" src="about:blank" style="width:100%; height:72vh; border:0; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.08); background:#fff"></iframe>
        </div>
    </div>
</div>

    <!-- Se√ß√£o de Gerenciamento de Logins -->
    <div id="gerenciar-logins" class="content-section" style="display: none;">
        <h2>Gerenciar Logins</h2>

        <!-- Filtros -->
        <div style="background: rgba(179, 229, 252, 0.95); padding: 15px; border-radius: 10px; margin-bottom: 20px;">
            <div class="form-row">
                <div class="form-group">
                    <label for="filtroEmailLogin">Filtrar por Email</label>
                    <input type="text" id="filtroEmailLogin" placeholder="Digite o email..."
                        oninput="filtrarLoginsUsuarios()">
                </div>
                <div class="form-group">
                    <label for="filtroNomeLogin">Filtrar por Nome</label>
                    <input type="text" id="filtroNomeLogin" placeholder="Digite o nome..."
                        oninput="filtrarLoginsUsuarios()">
                </div>
                <div class="form-group" style="display: flex; align-items: flex-end;">
                    <button class="btn-secondary" onclick="limparFiltrosLogins()">Limpar Filtros</button>
                </div>
            </div>
        </div>

        <!-- Tabela de Usu√°rios -->
        <div style="overflow-x: auto;">
            <table
                style="width: 100%; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <thead style="background: #4fc3f7; color: white;">
                    <tr>
                        <th style="padding: 15px; text-align: left; font-weight: bold;">Nome</th>
                        <th style="padding: 15px; text-align: left; font-weight: bold;">Email</th>
                        <th style="padding: 15px; text-align: left; font-weight: bold;">Setor</th>
                        <th style="padding: 15px; text-align: center; font-weight: bold;">Permiss√µes</th>
                        <th style="padding: 15px; text-align: center; font-weight: bold;">A√ß√µes</th>
                    </tr>
                </thead>
                <tbody id="loginsTableBody">
                    <tr>
                        <td colspan="5" style="text-align: center; padding: 20px; color: #666;">
                            <i class="fas fa-spinner fa-spin" style="margin-right: 8px;"></i>
                            Carregando usu√°rios...
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Modal de Edi√ß√£o de Login -->
    <div class="modal-overlay" id="modalEditarLogin">
        <div class="modal-content" style="max-width: 700px;">
            <h3 style="color: #4fc3f7; margin-bottom: 20px;">
                <i class="fas fa-user-edit" style="margin-right: 10px;"></i>
                Editar Login de Usu√°rio
            </h3>

            <form id="formEditarLogin">
                <div class="form-row">
                    <div class="form-group">
                        <label for="editLoginNome">Nome</label>
                        <input type="text" id="editLoginNome" required>
                    </div>
                    <div class="form-group">
                        <label for="editLoginEmail">Email</label>
                        <input type="email" id="editLoginEmail" readonly style="background-color: #f5f5f5;">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="editLoginSetor">Setor</label>
                        <select id="editLoginSetor">
                            <option value="Comercial">Comercial</option>
                            <option value="Implanta√ß√£o">Implanta√ß√£o</option>
                            <option value="Suporte">Suporte</option>
                            <option value="Desenvolvimento">Desenvolvimento</option>
                            <option value="Gest√£o">Gest√£o</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editLoginSenha">Nova Senha (deixe em branco para n√£o alterar)</label>
                        <input type="password" id="editLoginSenha" placeholder="Digite a nova senha...">
                    </div>
                </div>

                <!-- Permiss√µes -->
                <div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <h4 style="color: #4fc3f7; margin-bottom: 15px;">Permiss√µes do Usu√°rio</h4>
                    <div id="editPermissoesContainer"
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                        <!-- Permiss√µes ser√£o carregadas dinamicamente -->
                    </div>
                </div>

                <div class="modal-buttons">
                    <button type="button" class="modal-button cancel"
                        onclick="fecharModalEditarLogin()">Cancelar</button>
                    <button type="submit" class="modal-button confirm">
                        <i class="fas fa-save" style="margin-right: 8px;"></i>
                        Salvar Altera√ß√µes
                    </button>
                </div>
            </form>
        </div>
    </div>
    <!-- Modal de Edi√ß√£o de Usu√°rio -->
    <div id="modalEditarUsuario" class="modal-editar-usuario" style="display: none;">
        <div class="modal-editar-usuario-content">
            <div class="modal-editar-usuario-header">
                <h2><i class="fas fa-user-edit"></i> Editar Usu√°rio</h2>
                <span class="modal-editar-usuario-close">&times;</span>
            </div>

            <div class="modal-editar-usuario-body">
                <!-- Informa√ß√µes do Usu√°rio -->
                <div class="usuario-info-section">
                    <h3><i class="fas fa-info-circle"></i> Informa√ß√µes do Usu√°rio</h3>
                    <div class="usuario-info-grid">
                        <div class="info-item">
                            <label>Nome:</label>
                            <span id="usuarioNome">-</span>
                        </div>
                        <div class="info-item">
                            <label>Email:</label>
                            <span id="usuarioEmail">-</span>
                        </div>
                        <div class="info-item">
                            <label>Status:</label>
                            <span id="usuarioStatus" class="status-badge">-</span>
                        </div>
                        <div class="info-item">
                            <label>√öltimo Acesso:</label>
                            <span id="usuarioUltimoAcesso">-</span>
                        </div>
                    </div>
                </div>

                <!-- Se√ß√£o de Permiss√µes -->
                <div class="permissoes-section">
                    <h3><i class="fas fa-shield-alt"></i> Gerenciar Permiss√µes</h3>
                    <div class="permissoes-container">
                        <div class="permissoes-disponiveis">
                            <h4>Permiss√µes Dispon√≠veis</h4>
                            <div class="permissoes-search">
                                <input type="text" id="searchPermissoes" placeholder="Buscar permiss√µes..."
                                    class="search-input">
                                <i class="fas fa-search"></i>
                            </div>
                            <div id="listaPermissoesDisponiveis" class="permissoes-list">
                                <!-- Permiss√µes dispon√≠veis ser√£o carregadas aqui -->
                            </div>
                        </div>

                        <div class="permissoes-usuario">
                            <h4>Permiss√µes do Usu√°rio</h4>
                            <div id="listaPermissoesUsuario" class="permissoes-list">
                                <!-- Permiss√µes do usu√°rio ser√£o carregadas aqui -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Se√ß√£o de Altera√ß√£o de Senha -->
                <div class="senha-section">
                    <h3><i class="fas fa-key"></i> Alterar Senha</h3>
                    <div class="senha-form">
                        <div class="form-group">
                            <label for="novaSenha">Nova Senha:</label>
                            <div class="password-input-container">
                                <input type="password" id="novaSenha" class="form-input"
                                    placeholder="Digite a nova senha">
                                <button type="button" class="toggle-password"
                                    onclick="togglePasswordVisibility('novaSenha')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="password-strength">
                                <div class="strength-bar">
                                    <div class="strength-fill" id="strengthFill"></div>
                                </div>
                                <span class="strength-text" id="strengthText">Digite uma senha</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="confirmarSenha">Confirmar Senha:</label>
                            <div class="password-input-container">
                                <input type="password" id="confirmarSenha" class="form-input"
                                    placeholder="Confirme a nova senha">
                                <button type="button" class="toggle-password"
                                    onclick="togglePasswordVisibility('confirmarSenha')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="password-match" id="passwordMatch"></div>
                        </div>

                        <div class="checkbox-group">
                            <input type="checkbox" id="forcarTrocaSenha">
                            <label for="forcarTrocaSenha">For√ßar troca de senha no pr√≥ximo login</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-editar-usuario-footer">
                <button type="button" class="btn-cancelar" onclick="fecharModalEditarUsuario()">
                    <i class="fas fa-times"></i> Cancelar
                </button>
                <button type="button" class="btn-salvar" onclick="salvarAlteracoesUsuario()">
                    <i class="fas fa-save"></i> Salvar Altera√ß√µes
                </button>
            </div>
        </div>
    </div>

<<<<<<< Updated upstream
<script src="portal.js"></script>
<script src="SING-Service/consultar_integracao_IDCliente.js"></script>
    <script src="supabase_data_loader.js"></script>
<script src="SING-Service/obter-token.js"></script>
</body>
</html>

=======
    <script src="portal.js"></script>
    <script src="audit.js"></script>
    <script src="audit-utility.js"></script>
    <script src="SING-Service/consultar_integracao_IDCliente.js"></script>
    <script src="SING-Service/obter-token.js"></script>
    
    <!-- Modal overlay para formul√°rio de Novo Cliente (o conte√∫do do #add-client ser√° movido para c√°) -->
    <div class="modal-overlay" id="newClientModal">
        <div class="modal-content" style="max-width:900px;">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3 style="color:var(--accent-color); margin:0;">Novo Cliente</h3>
                <button class="modal-close-btn" onclick="closeNewClientModal()" style="background:transparent;border:none;font-size:20px;cursor:pointer">&times;</button>
            </div>
            <div id="newClientModalHost" style="margin-top:12px;"></div>
        </div>
    </div>
    </body>

</html>
>>>>>>> Stashed changes
